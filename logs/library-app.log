2025-09-23T08:09:47.745+08:00  INFO 35032 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 35032 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T08:09:47.749+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T08:09:47.749+08:00  INFO 35032 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T08:09:49.341+08:00  INFO 35032 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T08:09:49.344+08:00  INFO 35032 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T08:09:49.402+08:00  INFO 35032 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2025-09-23T08:09:49.566+08:00 DEBUG 35032 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T08:09:49.571+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T08:09:49.571+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T08:09:49.571+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T08:09:49.571+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T08:09:49.571+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T08:09:49.572+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T08:09:49.572+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T08:09:49.572+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T08:09:49.572+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T08:09:49.573+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T08:09:49.576+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T08:09:49.576+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T08:09:49.577+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T08:09:49.577+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T08:09:49.578+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T08:09:49.578+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T08:09:49.578+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T08:09:49.579+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T08:09:49.579+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T08:09:49.579+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T08:09:49.579+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T08:09:49.579+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T08:09:49.580+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T08:09:49.580+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T08:09:49.580+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T08:09:50.390+08:00  INFO 35032 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T08:09:50.408+08:00  INFO 35032 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T08:09:50.409+08:00  INFO 35032 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T08:09:50.466+08:00  INFO 35032 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T08:09:50.467+08:00  INFO 35032 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2661 ms
2025-09-23T08:09:50.538+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T08:09:51.026+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T08:09:51.059+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T08:09:51.108+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T08:09:51.153+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T08:09:51.158+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T08:09:51.183+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T08:09:51.206+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T08:09:51.257+08:00 DEBUG 35032 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T08:09:51.707+08:00  WARN 35032 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: d88b98ef-5f55-4a56-a297-93e9b744d0de

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T08:09:51.718+08:00  INFO 35032 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T08:09:52.722+08:00  INFO 35032 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T08:09:52.730+08:00  INFO 35032 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 5.793 seconds (process running for 6.626)
2025-09-23T08:10:43.798+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T08:10:43.799+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T08:10:43.804+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-09-23T08:10:43.922+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T08:10:43.923+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T08:10:43.926+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T08:10:43.928+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T08:10:44.802+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36630965
2025-09-23T08:10:44.804+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T08:10:44.810+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] for JDBC transaction
2025-09-23T08:10:44.813+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] to manual commit
2025-09-23T08:10:44.815+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T08:10:44.822+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T08:10:44.831+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9]
2025-09-23T08:10:44.845+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] will be managed by Spring
2025-09-23T08:10:44.852+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T08:10:44.882+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T08:10:44.981+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T08:10:44.986+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9]
2025-09-23T08:10:44.987+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9] from current transaction
2025-09-23T08:10:44.987+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T08:10:44.987+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T08:10:44.989+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T08:10:44.989+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9]
2025-09-23T08:10:44.989+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 174ms
2025-09-23T08:10:44.990+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9]
2025-09-23T08:10:44.990+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9]
2025-09-23T08:10:44.990+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a7482c9]
2025-09-23T08:10:44.991+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T08:10:44.992+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965]
2025-09-23T08:10:45.009+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] after transaction
2025-09-23T08:10:45.080+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T08:10:45.082+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 1159ms
2025-09-23T08:10:45.164+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:10:45.164+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:10:45.167+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 3ms
2025-09-23T08:10:49.806+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:10:49.806+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:10:49.808+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T08:11:46.110+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:11:46.111+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:11:46.111+08:00 DEBUG 35032 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 0ms
2025-09-23T08:12:01.421+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，token为pc，权限为manager
2025-09-23T08:12:01.421+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T08:12:01.470+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTUxMDYxMTEsImV4cCI6MTc1ODU4Njc4NiwianRpIjoiNDQ1NTc3NDMtMGZlZS00N2M2LTlhZWItNzEzMjk1NzM1ZmNjIiwic3ViIjoiMSJ9.M8COGO6UVYZwq2bnJHSGX4VMoiyeX_bEL0bUgjezhIE，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:12:01.485+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是8e4426f9-3214-a714-751d-d483cdd9cfde
2025-09-23T08:12:53.450+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : 当前有设备冒充电脑来发送信息,管理员id为1,关闭所有连接
2025-09-23T08:12:53.452+08:00  INFO 35032 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T08:13:23.756+08:00  INFO 35032 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T08:13:23.767+08:00  INFO 35032 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T08:13:23.797+08:00  INFO 35032 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T08:13:23.810+08:00  INFO 35032 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T08:16:01.132+08:00  INFO 16436 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 16436 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T08:16:01.135+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T08:16:01.135+08:00  INFO 16436 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T08:16:01.965+08:00  INFO 16436 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T08:16:01.970+08:00  INFO 16436 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T08:16:02.029+08:00  INFO 16436 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-09-23T08:16:02.212+08:00 DEBUG 16436 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T08:16:02.218+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T08:16:02.218+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T08:16:02.219+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T08:16:02.221+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T08:16:02.224+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T08:16:02.224+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T08:16:02.226+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T08:16:02.226+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T08:16:02.226+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T08:16:02.227+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T08:16:02.227+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T08:16:02.227+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T08:16:02.229+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T08:16:02.229+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T08:16:02.230+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T08:16:02.230+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T08:16:02.231+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T08:16:02.231+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T08:16:02.231+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T08:16:03.296+08:00  INFO 16436 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T08:16:03.322+08:00  INFO 16436 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T08:16:03.324+08:00  INFO 16436 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T08:16:03.421+08:00  INFO 16436 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T08:16:03.424+08:00  INFO 16436 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2240 ms
2025-09-23T08:16:03.537+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T08:16:04.089+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T08:16:04.105+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T08:16:04.115+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T08:16:04.124+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T08:16:04.134+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T08:16:04.140+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T08:16:04.147+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T08:16:04.160+08:00 DEBUG 16436 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T08:16:04.726+08:00  WARN 16436 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: da07eff6-6bd2-4486-8cb8-eebee52bac77

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T08:16:04.737+08:00  INFO 16436 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T08:16:05.781+08:00  INFO 16436 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T08:16:05.792+08:00  INFO 16436 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 5.275 seconds (process running for 6.883)
2025-09-23T08:17:03.305+08:00  INFO 16436 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T08:17:03.305+08:00  INFO 16436 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T08:17:03.307+08:00  INFO 16436 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-09-23T08:17:03.531+08:00 DEBUG 16436 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:17:03.535+08:00  INFO 16436 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:17:03.539+08:00 DEBUG 16436 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 3ms
2025-09-23T08:19:21.202+08:00  INFO 16436 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T08:19:21.215+08:00  INFO 16436 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T08:19:26.487+08:00  INFO 31872 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 31872 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T08:19:26.489+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T08:19:26.490+08:00  INFO 31872 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T08:19:27.377+08:00  INFO 31872 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T08:19:27.380+08:00  INFO 31872 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T08:19:27.421+08:00  INFO 31872 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-09-23T08:19:27.577+08:00 DEBUG 31872 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T08:19:27.580+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T08:19:27.581+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T08:19:27.582+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T08:19:27.585+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T08:19:27.585+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T08:19:27.588+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T08:19:27.588+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T08:19:27.588+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T08:19:27.589+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T08:19:27.589+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T08:19:27.589+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T08:19:27.589+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T08:19:27.590+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T08:19:27.592+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T08:19:27.592+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T08:19:27.594+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T08:19:27.594+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T08:19:27.595+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T08:19:28.452+08:00  INFO 31872 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T08:19:28.468+08:00  INFO 31872 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T08:19:28.468+08:00  INFO 31872 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T08:19:28.523+08:00  INFO 31872 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T08:19:28.524+08:00  INFO 31872 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1988 ms
2025-09-23T08:19:28.594+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T08:19:29.032+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T08:19:29.047+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T08:19:29.054+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T08:19:29.064+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T08:19:29.070+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T08:19:29.079+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T08:19:29.084+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T08:19:29.092+08:00 DEBUG 31872 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T08:19:29.650+08:00  WARN 31872 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 884d69f9-3998-4eb0-86f1-17b393e5ad0f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T08:19:29.661+08:00  INFO 31872 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T08:19:30.567+08:00  INFO 31872 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T08:19:30.580+08:00  INFO 31872 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 4.624 seconds (process running for 5.882)
2025-09-23T08:19:30.808+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T08:19:30.810+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T08:19:30.811+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-23T08:19:30.973+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:19:30.975+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:19:35.130+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 4155ms
2025-09-23T08:19:35.145+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:19:35.145+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:19:39.957+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 4812ms
2025-09-23T08:19:53.906+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:19:53.906+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:19:53.910+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 4ms
2025-09-23T08:19:58.029+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:19:58.029+08:00  INFO 31872 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:20:01.127+08:00 DEBUG 31872 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 3098ms
2025-09-23T08:38:56.790+08:00  INFO 31872 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T08:38:56.799+08:00  INFO 31872 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T08:39:02.733+08:00  INFO 44308 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 44308 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T08:39:02.735+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T08:39:02.735+08:00  INFO 44308 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T08:39:03.563+08:00  INFO 44308 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T08:39:03.566+08:00  INFO 44308 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T08:39:03.612+08:00  INFO 44308 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-09-23T08:39:03.754+08:00 DEBUG 44308 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T08:39:03.760+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T08:39:03.762+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T08:39:03.765+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T08:39:03.765+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T08:39:03.767+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T08:39:03.768+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T08:39:03.770+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T08:39:03.770+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T08:39:03.771+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T08:39:03.772+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T08:39:03.773+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T08:39:03.773+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T08:39:03.774+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T08:39:03.775+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T08:39:03.776+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T08:39:03.776+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T08:39:03.776+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T08:39:04.544+08:00  INFO 44308 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T08:39:04.562+08:00  INFO 44308 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T08:39:04.563+08:00  INFO 44308 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T08:39:04.621+08:00  INFO 44308 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T08:39:04.623+08:00  INFO 44308 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1837 ms
2025-09-23T08:39:04.696+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T08:39:05.167+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T08:39:05.183+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T08:39:05.191+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T08:39:05.198+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T08:39:05.212+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T08:39:05.218+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T08:39:05.225+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T08:39:05.233+08:00 DEBUG 44308 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T08:39:05.668+08:00  WARN 44308 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e83569e1-317a-4a38-974f-b9b10dac802f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T08:39:05.679+08:00  INFO 44308 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T08:39:06.565+08:00  INFO 44308 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T08:39:06.580+08:00  INFO 44308 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 4.442 seconds (process running for 5.827)
2025-09-23T08:40:57.297+08:00  INFO 44308 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T08:40:57.304+08:00  INFO 44308 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T08:41:03.429+08:00  INFO 42808 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 42808 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T08:41:03.431+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T08:41:03.431+08:00  INFO 42808 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T08:41:04.182+08:00  INFO 42808 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T08:41:04.184+08:00  INFO 42808 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T08:41:04.223+08:00  INFO 42808 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-09-23T08:41:04.347+08:00 DEBUG 42808 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T08:41:04.350+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T08:41:04.350+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T08:41:04.350+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T08:41:04.350+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T08:41:04.350+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T08:41:04.351+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T08:41:04.351+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T08:41:04.351+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T08:41:04.351+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T08:41:04.352+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T08:41:04.355+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T08:41:04.355+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T08:41:04.358+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T08:41:04.358+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T08:41:04.359+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T08:41:04.359+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T08:41:04.359+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T08:41:04.359+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T08:41:04.360+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T08:41:04.360+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T08:41:04.361+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T08:41:04.361+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T08:41:04.361+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T08:41:04.362+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T08:41:04.362+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T08:41:05.163+08:00  INFO 42808 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T08:41:05.179+08:00  INFO 42808 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T08:41:05.179+08:00  INFO 42808 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T08:41:05.228+08:00  INFO 42808 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T08:41:05.229+08:00  INFO 42808 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1756 ms
2025-09-23T08:41:05.287+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T08:41:05.755+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T08:41:05.772+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T08:41:05.783+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T08:41:05.796+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T08:41:05.806+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T08:41:05.811+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T08:41:05.818+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T08:41:05.828+08:00 DEBUG 42808 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T08:41:06.251+08:00  WARN 42808 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 682b77a1-14c8-4795-aea5-084bf0b5463a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T08:41:06.263+08:00  INFO 42808 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T08:41:07.157+08:00  INFO 42808 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T08:41:07.166+08:00  INFO 42808 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 4.354 seconds (process running for 5.735)
2025-09-23T08:44:01.848+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T08:44:01.849+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T08:44:01.852+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-09-23T08:44:01.974+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T08:44:10.911+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T08:44:10.923+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T08:44:10.923+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T08:44:11.165+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T08:44:11.166+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T08:44:11.166+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T08:44:11.817+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@123f9899
2025-09-23T08:44:11.820+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T08:44:11.827+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@639410206 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] for JDBC transaction
2025-09-23T08:44:11.831+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@639410206 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] to manual commit
2025-09-23T08:44:11.836+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T08:44:11.842+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1948505541 wrapping com.mysql.cj.jdbc.ConnectionImpl@31214525] for JDBC transaction
2025-09-23T08:44:11.843+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1948505541 wrapping com.mysql.cj.jdbc.ConnectionImpl@31214525] to manual commit
2025-09-23T08:44:11.843+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T08:44:11.844+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T08:44:11.844+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T08:44:11.859+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d]
2025-09-23T08:44:11.859+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651]
2025-09-23T08:44:11.870+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1948505541 wrapping com.mysql.cj.jdbc.ConnectionImpl@31214525] will be managed by Spring
2025-09-23T08:44:11.870+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@639410206 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] will be managed by Spring
2025-09-23T08:44:11.877+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T08:44:11.877+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T08:44:11.906+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T08:44:11.906+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T08:44:11.937+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T08:44:11.941+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d]
2025-09-23T08:44:11.942+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d] from current transaction
2025-09-23T08:44:11.943+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T08:44:11.943+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T08:44:11.945+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T08:44:11.946+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d]
2025-09-23T08:44:11.946+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 110ms
2025-09-23T08:44:11.947+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d]
2025-09-23T08:44:11.948+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d]
2025-09-23T08:44:11.948+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6f68b6d]
2025-09-23T08:44:11.948+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T08:44:11.949+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@639410206 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899]
2025-09-23T08:44:11.952+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@639410206 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] after transaction
2025-09-23T08:44:11.963+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T08:44:11.963+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651]
2025-09-23T08:44:11.963+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651] from current transaction
2025-09-23T08:44:11.963+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T08:44:11.964+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T08:44:11.973+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T08:44:11.973+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651]
2025-09-23T08:44:11.973+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 130ms
2025-09-23T08:44:11.973+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651]
2025-09-23T08:44:11.974+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651]
2025-09-23T08:44:11.974+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3a6e0651]
2025-09-23T08:44:11.974+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T08:44:11.974+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1948505541 wrapping com.mysql.cj.jdbc.ConnectionImpl@31214525]
2025-09-23T08:44:11.976+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1948505541 wrapping com.mysql.cj.jdbc.ConnectionImpl@31214525] after transaction
2025-09-23T08:44:12.025+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T08:44:12.025+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T08:44:12.027+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 10050ms
2025-09-23T08:44:12.027+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 1104ms
2025-09-23T08:44:12.125+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:44:12.125+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:44:12.125+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:44:12.125+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:44:12.127+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T08:44:12.127+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T08:44:37.241+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:44:37.241+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:44:37.242+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T08:44:42.548+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:44:42.548+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:44:48.749+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 6201ms
2025-09-23T08:44:48.755+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:44:48.756+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:44:48.859+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 103ms
2025-09-23T08:44:49.079+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T08:44:49.303+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T08:44:49.303+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，token为pc，权限为manager
2025-09-23T08:44:49.497+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T08:44:49.497+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T08:44:49.858+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T08:44:49.858+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，token为pc，权限为manager
2025-09-23T08:44:50.042+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T08:44:50.369+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODI1NDksImV4cCI6MTc1ODU4ODc2OCwianRpIjoiNmEwNDdmZDItNTUyZC00MjQ2LWE3M2YtZGVlM2JhZGVlNmVjIiwic3ViIjoiMSJ9.rb55hAuC1A53d7jweIsxZuuKT0lYWN6r2eZfrnpFHHI，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:44:50.369+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODg3NTYsImV4cCI6MTc1ODU4ODc2OCwianRpIjoiZTYyYjMwMzItNGRiZC00OWI4LWE0NDgtYWZmY2RmOTQyMGM1Iiwic3ViIjoiMSJ9.NO1aclCVY0Ey5pWFrY2NP2SIw_W4JgsBCPgd64AjvhA，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:44:50.370+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员的pc设备已经在连接中，非法入侵
2025-09-23T08:44:50.395+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是9563af4a-91ff-e417-4a8d-da62876dda62
2025-09-23T08:44:50.391+08:00 ERROR 42808 --- [LibrarySystem] [http-nio-8080-exec-8] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=0a257a30-2a1f-1b46-884d-458524e20b95, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODg3NTYsImV4cCI6MTc1ODU4ODc2OCwianRpIjoiZTYyYjMwMzItNGRiZC00OWI4LWE0NDgtYWZmY2RmOTQyMGM1Iiwic3ViIjoiMSJ9.NO1aclCVY0Ey5pWFrY2NP2SIw_W4JgsBCPgd64AjvhA&device=pc]

java.lang.IllegalStateException: The remote endpoint was in state [TEXT_PARTIAL_WRITING] which is an invalid state for called method
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.checkState(WsRemoteEndpointImplBase.java:1250) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateMachine.textPartialStart(WsRemoteEndpointImplBase.java:1215) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:222) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:133) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.closeAllSession(ManagerWebSocketHandler.java:148) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.afterConnectionEstablished(ManagerWebSocketHandler.java:71) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:945) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T08:44:50.539+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T08:45:44.776+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T08:45:47.062+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T08:45:47.062+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T08:45:47.063+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2049035095 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] for JDBC transaction
2025-09-23T08:45:47.063+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@2049035095 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] to manual commit
2025-09-23T08:45:47.063+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T08:45:47.064+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T08:45:47.064+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa]
2025-09-23T08:45:47.064+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@2049035095 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] will be managed by Spring
2025-09-23T08:45:47.064+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T08:45:47.065+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T08:45:47.067+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T08:45:47.067+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa]
2025-09-23T08:45:47.068+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa] from current transaction
2025-09-23T08:45:47.068+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T08:45:47.068+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T08:45:47.069+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa]
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 6ms
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa]
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa]
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@30ff2daa]
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T08:45:47.070+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2049035095 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899]
2025-09-23T08:45:47.071+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2049035095 wrapping com.mysql.cj.jdbc.ConnectionImpl@123f9899] after transaction
2025-09-23T08:45:47.072+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T08:45:47.072+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 2296ms
2025-09-23T08:45:47.090+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:45:47.090+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:45:47.091+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T08:45:50.941+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:45:50.941+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:45:50.943+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T08:46:07.511+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T08:46:07.512+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T08:46:07.512+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 0ms
2025-09-23T08:46:34.489+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T08:46:45.795+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T08:46:54.538+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为phone，token为pc，权限为manager
2025-09-23T08:47:19.047+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T08:47:30.832+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODg3NTYsImV4cCI6MTc1ODU4ODc2OCwianRpIjoiZTYyYjMwMzItNGRiZC00OWI4LWE0NDgtYWZmY2RmOTQyMGM1Iiwic3ViIjoiMSJ9.NO1aclCVY0Ey5pWFrY2NP2SIw_W4JgsBCPgd64AjvhA，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:48:11.974+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T08:48:13.075+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员用phone发送信息失败
2025-09-23T08:48:13.077+08:00 ERROR 42808 --- [LibrarySystem] [http-nio-8080-exec-5] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=cbaf22b5-b864-b3a3-2fe1-f311e9e672af, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODg3NTYsImV4cCI6MTc1ODU4ODc2OCwianRpIjoiZTYyYjMwMzItNGRiZC00OWI4LWE0NDgtYWZmY2RmOTQyMGM1Iiwic3ViIjoiMSJ9.NO1aclCVY0Ey5pWFrY2NP2SIw_W4JgsBCPgd64AjvhA&device=phone]

java.lang.RuntimeException: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:136) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.afterConnectionEstablished(ManagerWebSocketHandler.java:75) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:945) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:133) ~[classes/:na]
	... 13 common frames omitted
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:58) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:227) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:158) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:574) ~[na:na]
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:136) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1665) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	... 20 common frames omitted

2025-09-23T08:49:58.598+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T08:50:01.950+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T08:50:02.867+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为phone，token为pc，权限为manager
2025-09-23T08:50:09.271+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T08:50:50.913+08:00  WARN 42808 --- [LibrarySystem] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=52s313ms680µs200ns).
2025-09-23T08:50:50.913+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODg3NTYsImV4cCI6MTc1ODU4ODc2OCwianRpIjoiZTYyYjMwMzItNGRiZC00OWI4LWE0NDgtYWZmY2RmOTQyMGM1Iiwic3ViIjoiMSJ9.NO1aclCVY0Ey5pWFrY2NP2SIw_W4JgsBCPgd64AjvhA，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:50:56.074+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T08:50:56.075+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员用phone发送信息失败
2025-09-23T08:50:56.075+08:00 ERROR 42808 --- [LibrarySystem] [http-nio-8080-exec-7] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=142bfaeb-068a-fe17-254e-550954367d45, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTcwODg3NTYsImV4cCI6MTc1ODU4ODc2OCwianRpIjoiZTYyYjMwMzItNGRiZC00OWI4LWE0NDgtYWZmY2RmOTQyMGM1Iiwic3ViIjoiMSJ9.NO1aclCVY0Ey5pWFrY2NP2SIw_W4JgsBCPgd64AjvhA&device=phone]

java.lang.RuntimeException: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:136) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.afterConnectionEstablished(ManagerWebSocketHandler.java:75) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:945) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:133) ~[classes/:na]
	... 13 common frames omitted
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:58) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:227) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:158) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:574) ~[na:na]
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:136) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1665) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	... 20 common frames omitted

2025-09-23T08:52:47.712+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T08:52:47.713+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T08:52:51.573+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 3860ms
2025-09-23T08:52:56.886+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T08:52:59.350+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T08:53:00.004+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，token为pc，权限为manager
2025-09-23T08:53:05.040+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T08:53:09.000+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTc1Njc3MTMsImV4cCI6MTc1ODU4OTI1MSwianRpIjoiODFlYWNmMjAtYmE3NS00MTIxLWJhMjUtZGFmZWIzZjdlMmJkIiwic3ViIjoiMSJ9.8pRZWID4teH5fMk_ZTfZ3ZnFj4Vgr1xJT5LtAlOY0ss，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:53:23.207+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是63715ee8-e587-a271-578d-66ece86e7da2
2025-09-23T08:54:51.507+08:00  WARN 42808 --- [LibrarySystem] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s305ms811µs400ns).
2025-09-23T08:54:51.509+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T08:54:52.693+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T08:54:52.976+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为phone，token为pc，权限为manager
2025-09-23T08:54:53.502+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T08:55:08.117+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTc1Njc3MTMsImV4cCI6MTc1ODU4OTI1MSwianRpIjoiODFlYWNmMjAtYmE3NS00MTIxLWJhMjUtZGFmZWIzZjdlMmJkIiwic3ViIjoiMSJ9.8pRZWID4teH5fMk_ZTfZ3ZnFj4Vgr1xJT5LtAlOY0ss，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T08:56:00.168+08:00  WARN 42808 --- [LibrarySystem] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m8s659ms809µs200ns).
2025-09-23T08:56:39.960+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T08:56:43.889+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员用phone发送信息失败
2025-09-23T08:56:43.890+08:00 ERROR 42808 --- [LibrarySystem] [http-nio-8080-exec-2] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=165e7cf3-f7fc-46a7-fdca-eccd2088e5ab, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTc1Njc3MTMsImV4cCI6MTc1ODU4OTI1MSwianRpIjoiODFlYWNmMjAtYmE3NS00MTIxLWJhMjUtZGFmZWIzZjdlMmJkIiwic3ViIjoiMSJ9.8pRZWID4teH5fMk_ZTfZ3ZnFj4Vgr1xJT5LtAlOY0ss&device=phone]

java.lang.RuntimeException: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:136) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.afterConnectionEstablished(ManagerWebSocketHandler.java:75) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:945) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:133) ~[classes/:na]
	... 13 common frames omitted
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:58) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:227) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:158) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:574) ~[na:na]
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:136) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1665) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	... 20 common frames omitted

2025-09-23T09:10:32.085+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T09:10:32.092+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T09:10:32.092+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T09:10:32.574+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 482ms
2025-09-23T09:11:04.362+08:00  WARN 42808 --- [LibrarySystem] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m850ms169µs200ns).
2025-09-23T09:11:04.364+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T09:11:04.548+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T09:11:04.548+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T09:11:04.547+08:00  WARN 42808 --- [LibrarySystem] [http-nio-8080-exec-6] w.s.h.ExceptionWebSocketHandlerDecorator : Unhandled exception after connection closed for ExceptionWebSocketHandlerDecorator [delegate=LoggingWebSocketHandlerDecorator [delegate=org.powernode.springboot.websocket.handler.ManagerWebSocketHandler@51813065]]

java.lang.NullPointerException: Cannot invoke "java.util.Map.remove(Object)" because "devicesSession" is null
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.afterConnectionClosed(ManagerWebSocketHandler.java:121) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionClosed(WebSocketHandlerDecorator.java:85) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionClosed(LoggingWebSocketHandlerDecorator.java:72) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionClosed(ExceptionWebSocketHandlerDecorator.java:78) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onClose(StandardWebSocketHandlerAdapter.java:144) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.WsSession.fireEndpointOnClose(WsSession.java:719) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:627) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processDataControl(WsFrameBase.java:346) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:278) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T09:11:04.765+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 217ms
2025-09-23T09:11:04.766+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T09:11:04.766+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，token为pc，权限为manager
2025-09-23T09:11:04.930+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T09:11:05.121+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTg2MzIwOTIsImV4cCI6MTc1ODU5MDMxMiwianRpIjoiYjUyNGMxN2MtYjlmMC00NmMzLTkxZWMtZjFlNDFhY2I1MWZiIiwic3ViIjoiMSJ9.PvxskNWu4QR8Wqly-_zVwUjrlO4DBy0ggrrZuK2tEZs，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T09:11:05.260+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T09:11:05.260+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员用pc发送信息失败
2025-09-23T09:11:05.260+08:00 ERROR 42808 --- [LibrarySystem] [http-nio-8080-exec-7] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=51d136cd-caad-a055-22e7-dcbca0227f1e, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTg2MzIwOTIsImV4cCI6MTc1ODU5MDMxMiwianRpIjoiYjUyNGMxN2MtYjlmMC00NmMzLTkxZWMtZjFlNDFhY2I1MWZiIiwic3ViIjoiMSJ9.PvxskNWu4QR8Wqly-_zVwUjrlO4DBy0ggrrZuK2tEZs&device=pc]

java.lang.RuntimeException: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:136) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.afterConnectionEstablished(ManagerWebSocketHandler.java:75) ~[classes/:na]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.afterConnectionEstablished(WebSocketHandlerDecorator.java:70) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.afterConnectionEstablished(LoggingWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.afterConnectionEstablished(ExceptionWebSocketHandlerDecorator.java:48) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.onOpen(StandardWebSocketHandlerAdapter.java:103) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:131) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:945) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.io.IOException: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:326) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:266) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlock(WsRemoteEndpointImplBase.java:250) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:223) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:48) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketSession.sendTextMessage(StandardWebSocketSession.java:217) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.AbstractWebSocketSession.sendMessage(AbstractWebSocketSession.java:108) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.sendMessage(ManagerWebSocketHandler.java:133) ~[classes/:na]
	... 13 common frames omitted
Caused by: java.io.IOException: 你的主机中的软件中止了一个已建立的连接。
	at java.base/sun.nio.ch.SocketDispatcher.writev0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.writev(SocketDispatcher.java:58) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:227) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:158) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:574) ~[na:na]
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:136) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper$NioOperationState.run(NioEndpoint.java:1665) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase$OperationState.start(SocketWrapperBase.java:987) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.vectoredOperation(SocketWrapperBase.java:1358) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1287) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketWrapperBase.write(SocketWrapperBase.java:1262) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:171) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:521) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendMessageBlockInternal(WsRemoteEndpointImplBase.java:313) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	... 20 common frames omitted

2025-09-23T09:11:17.030+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T09:11:17.030+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T09:11:18.953+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1923ms
2025-09-23T09:11:20.176+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T09:11:20.674+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T09:11:20.674+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，token为pc，权限为manager
2025-09-23T09:11:21.046+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T09:11:21.758+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTg2NzcwMzAsImV4cCI6MTc1ODU5MDM1OCwianRpIjoiNjA4ZGE4NTMtMWM3ZS00MzNlLTk5YzAtNDcwYzc1ZTQxNGNjIiwic3ViIjoiMSJ9.X2NIbmv0ACtKpCxKAHrxS-v8RZg-2_YXfudVGq5u-20，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T09:11:21.759+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是258e1f5d-2872-2cb2-63fa-9bb0ae27dc79
2025-09-23T09:11:42.558+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T09:11:42.558+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T09:11:42.559+08:00 DEBUG 42808 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T09:12:01.999+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T09:12:04.026+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T09:12:04.429+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为phone，token为pc，权限为manager
2025-09-23T09:12:06.010+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T09:12:16.151+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2MTg2NzcwMzAsImV4cCI6MTc1ODU5MDM1OCwianRpIjoiNjA4ZGE4NTMtMWM3ZS00MzNlLTk5YzAtNDcwYzc1ZTQxNGNjIiwic3ViIjoiMSJ9.X2NIbmv0ACtKpCxKAHrxS-v8RZg-2_YXfudVGq5u-20，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T09:12:22.995+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是ee569db7-ac23-1bde-f6e2-3c18df6bedc1
2025-09-23T09:13:14.676+08:00  INFO 42808 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T09:14:48.771+08:00  INFO 42808 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T09:14:48.775+08:00  INFO 42808 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T09:14:48.796+08:00  INFO 42808 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T09:14:48.805+08:00  INFO 42808 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T09:14:48.809+08:00  INFO 42808 --- [LibrarySystem] [SpringApplicationShutdownHook] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T09:15:26.063+08:00  INFO 13020 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 13020 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T09:15:26.064+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T09:15:26.066+08:00  INFO 13020 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T09:15:28.155+08:00  INFO 13020 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T09:15:28.160+08:00  INFO 13020 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T09:15:28.244+08:00  INFO 13020 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 0 Redis repository interfaces.
2025-09-23T09:15:28.679+08:00 DEBUG 13020 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T09:15:28.688+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T09:15:28.689+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T09:15:28.689+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T09:15:28.690+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T09:15:28.690+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T09:15:28.690+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T09:15:28.691+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T09:15:28.691+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T09:15:28.692+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T09:15:28.694+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T09:15:28.698+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T09:15:28.699+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T09:15:28.700+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T09:15:28.700+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T09:15:28.701+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T09:15:28.702+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T09:15:28.707+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T09:15:28.707+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T09:15:28.708+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T09:15:28.710+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T09:15:28.712+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T09:15:28.714+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T09:15:28.718+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T09:15:28.719+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T09:15:28.725+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T09:15:30.954+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T09:15:30.983+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T09:15:31.004+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T09:15:31.062+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T09:15:31.079+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T09:15:31.095+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T09:15:31.112+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T09:15:31.148+08:00 DEBUG 13020 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T09:15:32.327+08:00  WARN 13020 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 1e465d4a-d511-41b8-8c95-6a95873f941a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T09:15:32.379+08:00  INFO 13020 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T09:15:36.704+08:00  INFO 13020 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 11.273 seconds (process running for 12.908)
2025-09-23T09:30:23.355+08:00  INFO 26532 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 26532 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T09:30:23.356+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T09:30:23.357+08:00  INFO 26532 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T09:30:24.552+08:00  INFO 26532 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T09:30:24.556+08:00  INFO 26532 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T09:30:24.612+08:00  INFO 26532 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 Redis repository interfaces.
2025-09-23T09:30:24.805+08:00 DEBUG 26532 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T09:30:24.809+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T09:30:24.809+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T09:30:24.809+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T09:30:24.809+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T09:30:24.809+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T09:30:24.809+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T09:30:24.810+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T09:30:24.810+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T09:30:24.810+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T09:30:24.811+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T09:30:24.813+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T09:30:24.813+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T09:30:24.814+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T09:30:24.814+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T09:30:24.814+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T09:30:24.814+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T09:30:24.815+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T09:30:24.815+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T09:30:24.815+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T09:30:24.815+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T09:30:24.816+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T09:30:24.816+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T09:30:24.816+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T09:30:24.816+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T09:30:24.817+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T09:30:26.331+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T09:30:26.360+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T09:30:26.378+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T09:30:26.394+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T09:30:26.407+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T09:30:26.416+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T09:30:26.439+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T09:30:26.458+08:00 DEBUG 26532 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T09:30:27.700+08:00  WARN 26532 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 7e91d522-2a85-466e-b449-0af72d2adece

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T09:30:27.730+08:00  INFO 26532 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T09:30:31.791+08:00  INFO 26532 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 9.044 seconds (process running for 10.449)
2025-09-23T13:20:08.322+08:00  INFO 43304 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 43304 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:20:08.323+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:20:08.324+08:00  INFO 43304 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T13:20:09.277+08:00  INFO 43304 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:20:09.279+08:00  INFO 43304 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:20:09.323+08:00  INFO 43304 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-09-23T13:20:09.538+08:00 DEBUG 43304 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:20:09.541+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:20:09.542+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:20:09.542+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:20:09.542+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:20:09.542+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:20:09.542+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:20:09.543+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:20:09.543+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:20:09.543+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:20:09.544+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:20:09.546+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:20:09.547+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:20:09.547+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:20:09.547+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:20:09.548+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:20:09.548+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:20:09.548+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:20:09.549+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:20:09.549+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:20:09.549+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:20:09.550+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:20:09.551+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:20:09.551+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:20:09.552+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:20:09.553+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:20:10.811+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:20:10.838+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:20:10.858+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:20:10.889+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:20:10.917+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:20:10.927+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:20:10.959+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:20:10.971+08:00 DEBUG 43304 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:20:11.601+08:00  WARN 43304 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: ba94c779-8d4f-4002-923c-1f92f97af63a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:20:11.612+08:00  INFO 43304 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:20:13.086+08:00  INFO 43304 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 5.112 seconds (process running for 6.266)
2025-09-23T13:29:10.693+08:00  INFO 37108 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 37108 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:29:10.694+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:29:10.694+08:00  INFO 37108 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T13:29:11.934+08:00  INFO 37108 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:29:11.936+08:00  INFO 37108 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:29:11.984+08:00  INFO 37108 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-09-23T13:29:12.161+08:00 DEBUG 37108 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:29:12.163+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:29:12.164+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:29:12.164+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:29:12.164+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:29:12.164+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:29:12.164+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:29:12.164+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:29:12.165+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:29:12.165+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:29:12.166+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:29:12.167+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:29:12.168+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:29:12.168+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:29:12.168+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:29:12.168+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:29:12.168+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:29:12.169+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:29:12.169+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:29:12.169+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:29:12.169+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:29:12.170+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:29:12.170+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:29:12.170+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:29:12.170+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:29:12.170+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:29:13.579+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:29:13.628+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:29:13.730+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:29:13.770+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:29:13.816+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:29:13.970+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:29:13.995+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:29:14.010+08:00 DEBUG 37108 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:29:15.019+08:00  WARN 37108 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 2f7f85bb-1ad8-4d70-b197-172b9a7b3424

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:29:15.034+08:00  INFO 37108 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:29:15.936+08:00  WARN 37108 --- [LibrarySystem] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Post-processing of merged bean definition failed
2025-09-23T13:29:15.986+08:00  INFO 37108 --- [LibrarySystem] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-23T13:29:16.027+08:00 ERROR 37108 --- [LibrarySystem] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:584) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.9.jar:6.2.9]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6bc7c054]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:297) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:274) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:203) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:182) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:312) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-6.2.9.jar:6.2.9]
	... 101 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/lettuce/core/RedisCredentialsProvider
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.2.9.jar:6.2.9]
	... 109 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.lettuce.core.RedisCredentialsProvider
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 113 common frames omitted

2025-09-23T13:29:16.067+08:00  WARN 37108 --- [LibrarySystem] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.powernode.springboot.LibrarySystemApplicationTests@2b464384]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@43cf5bff testClass = org.powernode.springboot.LibrarySystemApplicationTests, locations = [], classes = [org.powernode.springboot.LibrarySystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1cf56a1c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@35b74c5c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@64ec96c6, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3b5fad2d, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@56dc1551, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7b993c65, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@c1430e3e], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.9.jar:6.2.9]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:584) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.9.jar:6.2.9]
	... 79 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6bc7c054]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:297) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:274) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:203) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:182) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:312) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-6.2.9.jar:6.2.9]
	... 101 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/lettuce/core/RedisCredentialsProvider
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.2.9.jar:6.2.9]
	... 109 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.lettuce.core.RedisCredentialsProvider
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 113 common frames omitted

2025-09-23T13:29:16.146+08:00  WARN 37108 --- [LibrarySystem] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.powernode.springboot.LibrarySystemApplicationTests@740ee00f]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@43cf5bff testClass = org.powernode.springboot.LibrarySystemApplicationTests, locations = [], classes = [org.powernode.springboot.LibrarySystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1cf56a1c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@35b74c5c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@64ec96c6, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3b5fad2d, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@56dc1551, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@7b993c65, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@c1430e3e], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.9.jar:6.2.9]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-09-23T13:29:51.986+08:00  INFO 15544 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 15544 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:29:51.987+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:29:51.988+08:00  INFO 15544 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T13:29:52.980+08:00  INFO 15544 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:29:52.983+08:00  INFO 15544 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:29:53.032+08:00  INFO 15544 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-09-23T13:29:53.197+08:00 DEBUG 15544 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:29:53.199+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:29:53.201+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:29:53.203+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:29:53.205+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:29:53.205+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:29:53.206+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:29:53.206+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:29:53.206+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:29:53.207+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:29:53.208+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:29:53.208+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:29:53.208+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:29:53.209+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:29:53.209+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:29:53.209+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:29:53.209+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:29:53.209+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:29:53.210+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:29:54.563+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:29:54.616+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:29:54.627+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:29:54.638+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:29:54.647+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:29:54.654+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:29:54.675+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:29:54.687+08:00 DEBUG 15544 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:29:55.441+08:00  WARN 15544 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: dcb94926-a3e5-41b8-a843-9da7d1a61ab4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:29:55.480+08:00  INFO 15544 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:29:57.026+08:00  INFO 15544 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 5.37 seconds (process running for 6.532)
2025-09-23T13:30:39.517+08:00  INFO 21136 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 21136 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:30:39.519+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:30:39.521+08:00  INFO 21136 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T13:30:41.005+08:00  INFO 21136 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:30:41.009+08:00  INFO 21136 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:30:41.081+08:00  INFO 21136 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 0 Redis repository interfaces.
2025-09-23T13:30:41.298+08:00 DEBUG 21136 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:30:41.302+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:30:41.302+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:30:41.303+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:30:41.303+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:30:41.303+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:30:41.303+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:30:41.303+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:30:41.303+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:30:41.304+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:30:41.306+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:30:41.309+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:30:41.310+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:30:41.311+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:30:41.311+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:30:41.311+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:30:41.312+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:30:41.312+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:30:41.312+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:30:41.313+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:30:41.313+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:30:41.313+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:30:41.314+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:30:41.314+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:30:41.314+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:30:41.315+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:30:42.937+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:30:43.016+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:30:43.113+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:30:43.251+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:30:43.346+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:30:43.381+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:30:43.564+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:30:43.628+08:00 DEBUG 21136 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:30:44.758+08:00  WARN 21136 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 0debd964-8734-4a86-8677-39d03e9897b3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:30:44.772+08:00  INFO 21136 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:30:45.736+08:00  WARN 21136 --- [LibrarySystem] [main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Post-processing of merged bean definition failed
2025-09-23T13:30:45.786+08:00  INFO 21136 --- [LibrarySystem] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-23T13:30:45.818+08:00 ERROR 21136 --- [LibrarySystem] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:584) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.9.jar:6.2.9]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6bc7c054]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:297) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:274) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:203) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:182) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:312) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-6.2.9.jar:6.2.9]
	... 101 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/lettuce/core/RedisCredentialsProvider
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.2.9.jar:6.2.9]
	... 109 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.lettuce.core.RedisCredentialsProvider
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 113 common frames omitted

2025-09-23T13:30:45.839+08:00  WARN 21136 --- [LibrarySystem] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.powernode.springboot.LibrarySystemApplicationTests@65a2755e]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@571db8b4 testClass = org.powernode.springboot.LibrarySystemApplicationTests, locations = [], classes = [org.powernode.springboot.LibrarySystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@33f676f6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2e570ded, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@77659b30, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5e17553a, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@102cec62, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@37911f88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@c1430e3e], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.9.jar:6.2.9]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisConnectionFactory' defined in class path resource [org/springframework/boot/autoconfigure/data/redis/LettuceConnectionConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:584) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110) ~[spring-boot-test-3.5.4.jar:3.5.4]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.9.jar:6.2.9]
	... 79 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6bc7c054]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320) ~[spring-core-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.buildLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:297) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:274) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.findLifecycleMetadata(InitDestroyAnnotationBeanPostProcessor.java:203) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(InitDestroyAnnotationBeanPostProcessor.java:182) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(CommonAnnotationBeanPostProcessor.java:312) ~[spring-context-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-6.2.9.jar:6.2.9]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-6.2.9.jar:6.2.9]
	... 101 common frames omitted
Caused by: java.lang.NoClassDefFoundError: io/lettuce/core/RedisCredentialsProvider
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578) ~[na:na]
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676) ~[na:na]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.2.9.jar:6.2.9]
	... 109 common frames omitted
Caused by: java.lang.ClassNotFoundException: io.lettuce.core.RedisCredentialsProvider
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526) ~[na:na]
	... 113 common frames omitted

2025-09-23T13:30:45.882+08:00  WARN 21136 --- [LibrarySystem] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [org.powernode.springboot.LibrarySystemApplicationTests@625db0e0]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@571db8b4 testClass = org.powernode.springboot.LibrarySystemApplicationTests, locations = [], classes = [org.powernode.springboot.LibrarySystemApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@33f676f6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2e570ded, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@77659b30, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5e17553a, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@102cec62, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@37911f88, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@c1430e3e], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.9.jar:6.2.9]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159) ~[spring-test-6.2.9.jar:6.2.9]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.12.2.jar:5.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) ~[junit-platform-launcher-1.12.2.jar:1.12.2]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:194) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) ~[surefire-booter-3.5.3.jar:3.5.3]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) ~[surefire-booter-3.5.3.jar:3.5.3]

2025-09-23T13:34:42.380+08:00  INFO 6856 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 6856 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:34:42.382+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:34:42.383+08:00  INFO 6856 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T13:34:44.484+08:00  INFO 6856 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:34:44.491+08:00  INFO 6856 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:34:44.573+08:00  INFO 6856 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 0 Redis repository interfaces.
2025-09-23T13:34:44.775+08:00 DEBUG 6856 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:34:44.778+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:34:44.778+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:34:44.778+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:34:44.778+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:34:44.779+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:34:44.779+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:34:44.779+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:34:44.779+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:34:44.779+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:34:44.781+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:34:44.783+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:34:44.783+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:34:44.786+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:34:44.786+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:34:44.787+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:34:44.787+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:34:44.787+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:34:44.788+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:34:44.788+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:34:44.788+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:34:44.789+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:34:44.789+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:34:44.789+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:34:44.789+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:34:44.789+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:34:46.062+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:34:46.091+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:34:46.110+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:34:46.130+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:34:46.143+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:34:46.158+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:34:46.178+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:34:46.195+08:00 DEBUG 6856 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:34:47.326+08:00  WARN 6856 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e775e57a-2244-4139-99d5-44e1b5db2868

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:34:47.345+08:00  INFO 6856 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:34:49.281+08:00  INFO 6856 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 7.285 seconds (process running for 8.553)
2025-09-23T13:45:16.715+08:00  INFO 30196 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 30196 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:45:16.719+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:45:16.719+08:00  INFO 30196 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T13:45:17.632+08:00  INFO 30196 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:45:17.643+08:00  INFO 30196 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:45:17.679+08:00  INFO 30196 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-09-23T13:45:17.797+08:00 DEBUG 30196 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:45:17.799+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:45:17.799+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:45:17.799+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:45:17.799+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:45:17.799+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:45:17.799+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:45:17.800+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:45:17.800+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:45:17.800+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:45:17.801+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:45:17.803+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:45:17.803+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:45:17.803+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:45:17.804+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:45:17.805+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:45:17.805+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:45:17.805+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:45:17.806+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:45:17.806+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:45:19.188+08:00  INFO 30196 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T13:45:19.220+08:00  INFO 30196 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T13:45:19.220+08:00  INFO 30196 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T13:45:19.296+08:00  INFO 30196 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T13:45:19.297+08:00  INFO 30196 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2477 ms
2025-09-23T13:45:19.383+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T13:45:20.331+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:45:20.348+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:45:20.356+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:45:20.365+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:45:20.370+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:45:20.376+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:45:20.381+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:45:20.389+08:00 DEBUG 30196 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:45:21.072+08:00  WARN 30196 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 65e46da0-3f69-49c4-aa4c-2a4f5bec2229

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:45:21.084+08:00  INFO 30196 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:45:21.871+08:00  INFO 30196 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T13:45:21.883+08:00  INFO 30196 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 5.63 seconds (process running for 6.382)
2025-09-23T13:45:26.971+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T13:45:26.971+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T13:45:26.973+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-23T13:45:27.086+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T13:45:27.089+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T13:45:27.096+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T13:45:27.097+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T13:45:27.810+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1846e4b5
2025-09-23T13:45:27.813+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T13:45:27.825+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@181466477 wrapping com.mysql.cj.jdbc.ConnectionImpl@1846e4b5] for JDBC transaction
2025-09-23T13:45:27.829+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@181466477 wrapping com.mysql.cj.jdbc.ConnectionImpl@1846e4b5] to manual commit
2025-09-23T13:45:27.831+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T13:45:27.840+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T13:45:27.855+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015]
2025-09-23T13:45:27.868+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@181466477 wrapping com.mysql.cj.jdbc.ConnectionImpl@1846e4b5] will be managed by Spring
2025-09-23T13:45:27.875+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T13:45:27.919+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T13:45:28.100+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T13:45:28.107+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015]
2025-09-23T13:45:28.109+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015] from current transaction
2025-09-23T13:45:28.110+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T13:45:28.110+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T13:45:28.155+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T13:45:28.156+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015]
2025-09-23T13:45:28.156+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 324ms
2025-09-23T13:45:28.158+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015]
2025-09-23T13:45:28.159+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015]
2025-09-23T13:45:28.159+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6e68f015]
2025-09-23T13:45:28.160+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T13:45:28.160+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@181466477 wrapping com.mysql.cj.jdbc.ConnectionImpl@1846e4b5]
2025-09-23T13:45:28.166+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@181466477 wrapping com.mysql.cj.jdbc.ConnectionImpl@1846e4b5] after transaction
2025-09-23T13:45:28.267+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T13:45:28.270+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 1181ms
2025-09-23T13:45:28.365+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T13:45:28.365+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T13:45:28.367+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T13:45:35.756+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T13:45:35.756+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T13:45:35.757+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T13:45:39.852+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T13:45:39.853+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T13:45:39.855+08:00 ERROR 30196 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行失败: ManagerController.generateQrToken() - 耗时: 0ms - 错误: Cannot invoke "String.equals(Object)" because "device" is null
2025-09-23T13:45:39.861+08:00 ERROR 30196 --- [LibrarySystem] [http-nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.equals(Object)" because "device" is null] with root cause

java.lang.NullPointerException: Cannot invoke "String.equals(Object)" because "device" is null
	at org.powernode.springboot.controller.ManagerController.generateQrToken(ManagerController.java:247) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.powernode.springboot.aspect.LoggingAspect.log(LoggingAspect.java:22) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.powernode.springboot.controller.ManagerController$$SpringCGLIB$$0.generateQrToken(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.43.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.43.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.9.jar:6.2.9]
	at org.powernode.springboot.fliter.JwtFilter.doFilterInternal(JwtFilter.java:44) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T13:46:13.571+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T13:46:13.571+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T13:46:13.572+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T13:46:17.119+08:00 DEBUG 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T13:46:17.119+08:00  INFO 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T13:46:17.119+08:00 ERROR 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行失败: ManagerController.generateQrToken() - 耗时: 0ms - 错误: Cannot invoke "String.equals(Object)" because "device" is null
2025-09-23T13:46:17.121+08:00 ERROR 30196 --- [LibrarySystem] [http-nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke "String.equals(Object)" because "device" is null] with root cause

java.lang.NullPointerException: Cannot invoke "String.equals(Object)" because "device" is null
	at org.powernode.springboot.controller.ManagerController.generateQrToken(ManagerController.java:247) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.powernode.springboot.aspect.LoggingAspect.log(LoggingAspect.java:22) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728) ~[spring-aop-6.2.9.jar:6.2.9]
	at org.powernode.springboot.controller.ManagerController$$SpringCGLIB$$0.generateQrToken(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.43.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.43.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.2.9.jar:6.2.9]
	at org.powernode.springboot.fliter.JwtFilter.doFilterInternal(JwtFilter.java:44) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T13:46:37.945+08:00  INFO 30196 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T13:46:37.952+08:00  INFO 30196 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T13:46:37.982+08:00  INFO 30196 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T13:46:37.997+08:00  INFO 30196 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T13:46:41.582+08:00  INFO 39360 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 39360 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T13:46:41.585+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T13:46:41.586+08:00  INFO 39360 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T13:46:42.422+08:00  INFO 39360 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T13:46:42.426+08:00  INFO 39360 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T13:46:42.469+08:00  INFO 39360 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-09-23T13:46:42.735+08:00 DEBUG 39360 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T13:46:42.737+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T13:46:42.738+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T13:46:42.742+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T13:46:42.744+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T13:46:42.745+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T13:46:42.747+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T13:46:42.747+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T13:46:42.748+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T13:46:42.748+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T13:46:42.749+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T13:46:42.749+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T13:46:42.749+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T13:46:42.749+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T13:46:42.749+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T13:46:42.749+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T13:46:42.750+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T13:46:42.750+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T13:46:42.750+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T13:46:43.679+08:00  INFO 39360 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T13:46:43.702+08:00  INFO 39360 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T13:46:43.702+08:00  INFO 39360 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T13:46:43.780+08:00  INFO 39360 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T13:46:43.780+08:00  INFO 39360 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2142 ms
2025-09-23T13:46:43.863+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T13:46:44.286+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T13:46:44.300+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T13:46:44.307+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T13:46:44.315+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T13:46:44.320+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T13:46:44.333+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T13:46:44.339+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T13:46:44.347+08:00 DEBUG 39360 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T13:46:44.802+08:00  WARN 39360 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 0adc2083-063e-4e5a-ad49-4d743d09456d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T13:46:44.810+08:00  INFO 39360 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T13:46:45.725+08:00  INFO 39360 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T13:46:45.738+08:00  INFO 39360 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 4.805 seconds (process running for 6.256)
2025-09-23T13:47:45.467+08:00  INFO 39360 --- [LibrarySystem] [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T13:47:45.467+08:00  INFO 39360 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T13:47:45.468+08:00  INFO 39360 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-23T13:47:45.642+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T13:47:45.644+08:00  INFO 39360 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T13:47:45.646+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T13:47:49.269+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T13:47:49.319+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 49ms
2025-09-23T13:47:58.912+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T13:47:58.914+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 1ms
2025-09-23T13:51:34.691+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T13:51:34.691+08:00  INFO 39360 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T13:51:34.692+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T13:51:37.956+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T13:51:37.957+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 0ms
2025-09-23T16:35:40.919+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T16:35:40.921+08:00  INFO 39360 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T16:35:40.922+08:00 DEBUG 39360 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T16:44:19.401+08:00  INFO 39360 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T16:44:19.480+08:00  INFO 39360 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T16:44:26.325+08:00  INFO 21612 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 21612 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T16:44:26.327+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T16:44:26.327+08:00  INFO 21612 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T16:44:27.289+08:00  INFO 21612 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T16:44:27.291+08:00  INFO 21612 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T16:44:27.331+08:00  INFO 21612 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-09-23T16:44:27.464+08:00 DEBUG 21612 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T16:44:27.467+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T16:44:27.467+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T16:44:27.467+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T16:44:27.467+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T16:44:27.467+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T16:44:27.468+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T16:44:27.468+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T16:44:27.468+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T16:44:27.468+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T16:44:27.469+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T16:44:27.470+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T16:44:27.471+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T16:44:27.473+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T16:44:27.474+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T16:44:27.475+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T16:44:27.475+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T16:44:27.475+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T16:44:27.476+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T16:44:27.476+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T16:44:28.365+08:00  INFO 21612 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T16:44:28.413+08:00  INFO 21612 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T16:44:28.415+08:00  INFO 21612 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T16:44:28.504+08:00  INFO 21612 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T16:44:28.506+08:00  INFO 21612 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2131 ms
2025-09-23T16:44:28.612+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T16:44:29.194+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T16:44:29.223+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T16:44:29.237+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T16:44:29.289+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T16:44:29.303+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T16:44:29.309+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T16:44:29.317+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T16:44:29.325+08:00 DEBUG 21612 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T16:44:29.822+08:00  WARN 21612 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 53bc42bb-c8df-42c3-b3cb-c37ae1595915

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T16:44:29.832+08:00  INFO 21612 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T16:44:30.678+08:00  INFO 21612 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T16:44:30.690+08:00  INFO 21612 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 5.013 seconds (process running for 6.203)
2025-09-23T16:44:42.882+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T16:44:42.882+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T16:44:42.883+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-23T16:44:42.989+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T16:44:45.285+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T16:44:45.289+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T16:44:45.291+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T16:44:45.987+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68c95b3d
2025-09-23T16:44:45.989+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T16:44:45.993+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@450019715 wrapping com.mysql.cj.jdbc.ConnectionImpl@68c95b3d] for JDBC transaction
2025-09-23T16:44:45.998+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@450019715 wrapping com.mysql.cj.jdbc.ConnectionImpl@68c95b3d] to manual commit
2025-09-23T16:44:45.999+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T16:44:46.004+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T16:44:46.013+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b]
2025-09-23T16:44:46.021+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@450019715 wrapping com.mysql.cj.jdbc.ConnectionImpl@68c95b3d] will be managed by Spring
2025-09-23T16:44:46.027+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T16:44:46.060+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T16:44:46.215+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T16:44:46.224+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b]
2025-09-23T16:44:46.224+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b] from current transaction
2025-09-23T16:44:46.226+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T16:44:46.226+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T16:44:46.229+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T16:44:46.229+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b]
2025-09-23T16:44:46.230+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 230ms
2025-09-23T16:44:46.231+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b]
2025-09-23T16:44:46.232+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b]
2025-09-23T16:44:46.232+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@72671c9b]
2025-09-23T16:44:46.232+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T16:44:46.233+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@450019715 wrapping com.mysql.cj.jdbc.ConnectionImpl@68c95b3d]
2025-09-23T16:44:46.235+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@450019715 wrapping com.mysql.cj.jdbc.ConnectionImpl@68c95b3d] after transaction
2025-09-23T16:44:46.307+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T16:44:46.308+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 3317ms
2025-09-23T16:44:46.392+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T16:44:46.393+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T16:44:46.396+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 3ms
2025-09-23T16:44:49.634+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T16:44:49.634+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T16:44:49.635+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T16:44:52.650+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T16:44:52.650+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T16:44:54.529+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1879ms
2025-09-23T16:44:57.525+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T16:45:02.982+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T16:45:03.692+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T16:45:05.111+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T16:45:25.620+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NDU4OTI2NTAsImV4cCI6MTc1ODYxNzU3NCwianRpIjoiYzQ2YTFmMjYtNTI0Yi00ODE3LWJiNTYtYWE1ZjUyYzFhY2I2Iiwic3ViIjoiMSJ9.ugpwEJ1Hlre3ZqWqGH9vLehsqH1y7e9balNqrI-LboI，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T16:45:32.142+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是f433c32f-749e-e16a-83f5-163dfcd5e2ad
2025-09-23T16:45:45.055+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T16:45:45.055+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T16:45:45.061+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 6ms
2025-09-23T16:45:59.078+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T16:45:59.083+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T16:45:59.083+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T16:45:59.084+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T16:46:06.533+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T16:46:06.533+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T16:46:08.451+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1918ms
2025-09-23T16:46:08.657+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T16:46:08.830+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T16:46:08.830+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T16:46:09.018+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T16:46:09.242+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NDU5NjY1MzQsImV4cCI6MTc1ODYxNzY0OCwianRpIjoiMDhiMjljMTAtOGJjZS00ODZlLTk3NTQtMTRlZmFlZTE1YTYwIiwic3ViIjoiMSJ9.Tfws51JFgPwmuIFlApwH2Tn7TOTd5x7hO2CdyqJclss，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T16:46:09.242+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是d1067d81-1b8a-6d4d-b38c-913e5a7e6557
2025-09-23T16:47:20.336+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T16:47:33.607+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T16:47:34.534+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T16:47:39.149+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T16:48:06.985+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NDU5NjY1MzQsImV4cCI6MTc1ODYxNzY0OCwianRpIjoiMDhiMjljMTAtOGJjZS00ODZlLTk3NTQtMTRlZmFlZTE1YTYwIiwic3ViIjoiMSJ9.Tfws51JFgPwmuIFlApwH2Tn7TOTd5x7hO2CdyqJclss，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T16:48:25.085+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是7e9fabc3-6c1f-83bd-7dd4-721dd577bd42
2025-09-23T16:48:33.862+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T16:48:33.862+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T16:48:33.863+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T16:48:37.993+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T16:48:37.994+08:00 DEBUG 21612 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 1ms
2025-09-23T16:49:31.233+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : 手机端发来信息
2025-09-23T16:50:57.281+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已成功用手机向电脑发送信息
2025-09-23T16:52:27.610+08:00  WARN 21612 --- [LibrarySystem] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s975ms44µs900ns).
2025-09-23T16:52:27.611+08:00  INFO 21612 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T16:52:33.720+08:00  INFO 21612 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T16:52:33.725+08:00  INFO 21612 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T16:52:33.743+08:00  INFO 21612 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T16:52:33.752+08:00  INFO 21612 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T16:52:33.756+08:00  INFO 21612 --- [LibrarySystem] [SpringApplicationShutdownHook] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T16:57:09.439+08:00  INFO 21144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 21144 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T16:57:09.441+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T16:57:09.441+08:00  INFO 21144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T16:57:10.364+08:00  INFO 21144 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T16:57:10.368+08:00  INFO 21144 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T16:57:10.408+08:00  INFO 21144 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-09-23T16:57:10.549+08:00 DEBUG 21144 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T16:57:10.553+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T16:57:10.553+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T16:57:10.553+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T16:57:10.553+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T16:57:10.553+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T16:57:10.554+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T16:57:10.554+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T16:57:10.554+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T16:57:10.554+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T16:57:10.555+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T16:57:10.556+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T16:57:10.556+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T16:57:10.559+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T16:57:10.559+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T16:57:10.559+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T16:57:10.559+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T16:57:10.560+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T16:57:10.560+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T16:57:10.560+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T16:57:10.560+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T16:57:10.560+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T16:57:10.561+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T16:57:10.561+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T16:57:10.561+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T16:57:10.561+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T16:57:11.319+08:00  INFO 21144 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T16:57:11.342+08:00  INFO 21144 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T16:57:11.343+08:00  INFO 21144 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T16:57:11.408+08:00  INFO 21144 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T16:57:11.409+08:00  INFO 21144 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1895 ms
2025-09-23T16:57:11.479+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T16:57:11.923+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T16:57:11.937+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T16:57:11.947+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T16:57:11.958+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T16:57:11.965+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T16:57:11.979+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T16:57:11.987+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T16:57:11.997+08:00 DEBUG 21144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T16:57:12.478+08:00  WARN 21144 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: d5805e39-0352-4530-800c-a3f235141f5e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T16:57:12.500+08:00  INFO 21144 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T16:57:13.485+08:00  INFO 21144 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T16:57:13.497+08:00  INFO 21144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 4.686 seconds (process running for 6.088)
2025-09-23T17:42:05.440+08:00  INFO 21144 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T17:42:05.606+08:00  INFO 21144 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T17:42:05.635+08:00  INFO 21144 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 29 ms
2025-09-23T17:42:06.176+08:00 DEBUG 21144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T17:42:06.176+08:00 DEBUG 21144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T17:42:06.176+08:00 DEBUG 21144 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T17:42:06.180+08:00  INFO 21144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T17:42:06.180+08:00  INFO 21144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T17:42:06.180+08:00  INFO 21144 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T17:42:06.184+08:00 DEBUG 21144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 5ms
2025-09-23T17:42:06.184+08:00 DEBUG 21144 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 4ms
2025-09-23T17:42:06.184+08:00 DEBUG 21144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 5ms
2025-09-23T20:11:01.231+08:00  INFO 32708 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 32708 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T20:11:01.260+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T20:11:01.261+08:00  INFO 32708 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T20:11:02.969+08:00  INFO 32708 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T20:11:02.973+08:00  INFO 32708 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T20:11:03.053+08:00  INFO 32708 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2025-09-23T20:11:03.251+08:00 DEBUG 32708 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T20:11:03.254+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T20:11:03.255+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T20:11:03.258+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T20:11:03.258+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T20:11:03.261+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T20:11:03.261+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T20:11:03.262+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T20:11:03.262+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T20:11:03.263+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T20:11:03.264+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T20:11:03.265+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T20:11:03.266+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T20:11:03.267+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T20:11:03.267+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T20:11:03.267+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T20:11:03.267+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T20:11:03.268+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T20:11:04.252+08:00  INFO 32708 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T20:11:04.285+08:00  INFO 32708 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T20:11:04.287+08:00  INFO 32708 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T20:11:04.349+08:00  INFO 32708 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T20:11:04.350+08:00  INFO 32708 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2974 ms
2025-09-23T20:11:04.462+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T20:11:05.162+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T20:11:05.228+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T20:11:05.287+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T20:11:05.312+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T20:11:05.338+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T20:11:05.345+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T20:11:05.357+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T20:11:05.375+08:00 DEBUG 32708 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T20:11:06.301+08:00  WARN 32708 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 95a82f25-16e3-481e-8fcf-e0ce3d053a7f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T20:11:06.325+08:00  INFO 32708 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T20:11:08.810+08:00  INFO 32708 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T20:11:08.832+08:00  INFO 32708 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 8.542 seconds (process running for 10.989)
2025-09-23T20:11:19.868+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T20:11:19.868+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T20:11:19.871+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-23T20:11:20.015+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T20:11:22.473+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T20:11:22.483+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T20:11:22.485+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T20:11:23.710+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e5078d5
2025-09-23T20:11:23.717+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T20:11:23.727+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1726101896 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e5078d5] for JDBC transaction
2025-09-23T20:11:23.736+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1726101896 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e5078d5] to manual commit
2025-09-23T20:11:23.738+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T20:11:23.750+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T20:11:23.767+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be]
2025-09-23T20:11:23.784+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1726101896 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e5078d5] will be managed by Spring
2025-09-23T20:11:23.792+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T20:11:23.845+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T20:11:23.991+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T20:11:24.000+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be]
2025-09-23T20:11:24.001+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be] from current transaction
2025-09-23T20:11:24.001+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T20:11:24.002+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T20:11:24.005+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T20:11:24.005+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be]
2025-09-23T20:11:24.005+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 267ms
2025-09-23T20:11:24.006+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be]
2025-09-23T20:11:24.007+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be]
2025-09-23T20:11:24.007+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2aefb6be]
2025-09-23T20:11:24.007+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T20:11:24.008+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1726101896 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e5078d5]
2025-09-23T20:11:24.024+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1726101896 wrapping com.mysql.cj.jdbc.ConnectionImpl@7e5078d5] after transaction
2025-09-23T20:11:24.138+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T20:11:24.140+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 4121ms
2025-09-23T20:11:24.239+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:11:24.241+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:11:24.242+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T20:11:36.427+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:11:36.427+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:11:36.429+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T20:11:39.954+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:11:39.954+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:11:39.955+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T20:11:45.787+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:11:45.787+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:11:45.788+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T20:11:50.283+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:11:50.283+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:11:50.284+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T20:11:55.215+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T20:11:55.215+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T20:11:57.190+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1975ms
2025-09-23T20:12:03.451+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T20:12:05.924+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:12:05.925+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:12:06.375+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T20:12:09.416+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTgzMTUyMTUsImV4cCI6MTc1ODYyOTk5NywianRpIjoiZDgxZmMxOTktYTIwNS00YTViLWIwYTYtYjRmZmQ4Y2FhNzY4Iiwic3ViIjoiMSJ9.d-kK8iR9ZSjmxu-MTR7H8Tdyk5gJkXpiksXrMse4vo0，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:12:09.938+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是437f502f-96d1-04c6-0ce4-3ceb1377db14
2025-09-23T20:16:21.334+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:16:23.556+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:16:23.900+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:16:26.502+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T20:16:33.078+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTgzMTUyMTUsImV4cCI6MTc1ODYyOTk5NywianRpIjoiZDgxZmMxOTktYTIwNS00YTViLWIwYTYtYjRmZmQ4Y2FhNzY4Iiwic3ViIjoiMSJ9.d-kK8iR9ZSjmxu-MTR7H8Tdyk5gJkXpiksXrMse4vo0，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:16:35.362+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是b2555122-e9be-8dce-89e1-17d98808bce3
2025-09-23T20:17:08.968+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:17:08.970+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:17:08.974+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 4ms
2025-09-23T20:17:13.288+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:17:13.288+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:17:13.290+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T20:17:17.963+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:17:17.964+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 1ms
2025-09-23T20:17:40.302+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T20:18:17.654+08:00  WARN 32708 --- [LibrarySystem] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s747ms472µs).
2025-09-23T20:18:17.656+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : 检查发现，编号为1的管理员的phone客户端发来的信息不符合要求，关闭所有来连接
2025-09-23T20:18:24.113+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T20:18:24.114+08:00 ERROR 32708 --- [LibrarySystem] [http-nio-8080-exec-2] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=b2555122-e9be-8dce-89e1-17d98808bce3, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTgzMTUyMTUsImV4cCI6MTc1ODYyOTk5NywianRpIjoiZDgxZmMxOTktYTIwNS00YTViLWIwYTYtYjRmZmQ4Y2FhNzY4Iiwic3ViIjoiMSJ9.d-kK8iR9ZSjmxu-MTR7H8Tdyk5gJkXpiksXrMse4vo0&device=phone]

java.util.ConcurrentModificationException: null
	at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1605) ~[na:na]
	at java.base/java.util.HashMap$EntryIterator.next(HashMap.java:1638) ~[na:na]
	at java.base/java.util.HashMap$EntryIterator.next(HashMap.java:1636) ~[na:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.closeAllSession(ManagerWebSocketHandler.java:164) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleMessage(ManagerWebSocketHandler.java:126) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleTextMessage(ManagerWebSocketHandler.java:92) ~[classes/:na]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T20:18:24.371+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T20:18:35.887+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T20:18:35.890+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T20:18:39.182+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 3292ms
2025-09-23T20:18:39.406+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T20:18:41.016+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:18:41.016+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:18:41.325+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T20:18:41.470+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTg3MTU4OTEsImV4cCI6MTc1ODYzMDM5OSwianRpIjoiN2RiMzVjZDEtYWE5MC00MTIwLThhNTQtNDRjNTMwNTk0YzA1Iiwic3ViIjoiMSJ9.xCPk9YH10UtUjVyDZqXurCGJN7aLcgQ66OWPM12Cr7U，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:18:41.593+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是29438702-b21e-ebdd-00c6-a10b1365ac29
2025-09-23T20:19:12.694+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:19:12.854+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:19:12.856+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:19:12.856+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T20:19:13.152+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTg3MTU4OTEsImV4cCI6MTc1ODYzMDM5OSwianRpIjoiN2RiMzVjZDEtYWE5MC00MTIwLThhNTQtNDRjNTMwNTk0YzA1Iiwic3ViIjoiMSJ9.xCPk9YH10UtUjVyDZqXurCGJN7aLcgQ66OWPM12Cr7U，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:19:13.446+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是1d8f4bb8-1e9c-8c3f-61e0-4ca342f934cc
2025-09-23T20:19:27.476+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:19:27.478+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 1ms
2025-09-23T20:19:47.994+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T20:20:01.922+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : 检查发现，编号为1的管理员的phone客户端发来的信息不符合要求，关闭所有来连接
2025-09-23T20:20:02.225+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T20:20:02.227+08:00 ERROR 32708 --- [LibrarySystem] [http-nio-8080-exec-4] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=1d8f4bb8-1e9c-8c3f-61e0-4ca342f934cc, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTg3MTU4OTEsImV4cCI6MTc1ODYzMDM5OSwianRpIjoiN2RiMzVjZDEtYWE5MC00MTIwLThhNTQtNDRjNTMwNTk0YzA1Iiwic3ViIjoiMSJ9.xCPk9YH10UtUjVyDZqXurCGJN7aLcgQ66OWPM12Cr7U&device=phone]

java.util.ConcurrentModificationException: null
	at java.base/java.util.HashMap$HashIterator.nextNode(HashMap.java:1605) ~[na:na]
	at java.base/java.util.HashMap$EntryIterator.next(HashMap.java:1638) ~[na:na]
	at java.base/java.util.HashMap$EntryIterator.next(HashMap.java:1636) ~[na:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.closeAllSession(ManagerWebSocketHandler.java:164) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleMessage(ManagerWebSocketHandler.java:126) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleTextMessage(ManagerWebSocketHandler.java:92) ~[classes/:na]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T20:20:02.429+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T20:21:21.443+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T20:21:21.443+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T20:21:23.253+08:00 DEBUG 32708 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1810ms
2025-09-23T20:21:23.516+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T20:21:32.575+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:21:32.576+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:21:33.427+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T20:21:44.184+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTg4ODE0NDMsImV4cCI6MTc1ODYzMDU2MywianRpIjoiMjJmNDUyN2ItODM4NC00MDg2LWI0NTQtMjFmZDUyNjAzYjZlIiwic3ViIjoiMSJ9.oLfwMaGK6kOU-akrRegD79ZRsoInewFADtvhYPYPsiY，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:21:44.186+08:00  INFO 32708 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是726e7b1b-a4d4-5b3c-2445-061c02839130
2025-09-23T20:21:44.983+08:00  INFO 32708 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T20:21:44.996+08:00  INFO 32708 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T20:21:45.057+08:00  INFO 32708 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T20:21:45.082+08:00  INFO 32708 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T20:21:45.095+08:00  INFO 32708 --- [LibrarySystem] [SpringApplicationShutdownHook] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T20:27:05.160+08:00  INFO 26900 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 26900 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T20:27:05.169+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T20:27:05.170+08:00  INFO 26900 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T20:27:07.866+08:00  INFO 26900 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T20:27:07.870+08:00  INFO 26900 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T20:27:07.942+08:00  INFO 26900 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2025-09-23T20:27:08.174+08:00 DEBUG 26900 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T20:27:08.179+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T20:27:08.182+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T20:27:08.182+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T20:27:08.182+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T20:27:08.182+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T20:27:08.183+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T20:27:08.183+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T20:27:08.183+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T20:27:08.183+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T20:27:08.185+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T20:27:08.188+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T20:27:08.189+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T20:27:08.192+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T20:27:08.193+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T20:27:08.194+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T20:27:08.194+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T20:27:08.195+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T20:27:08.195+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T20:27:08.196+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T20:27:08.197+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T20:27:08.200+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T20:27:08.200+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T20:27:08.201+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T20:27:08.201+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T20:27:08.202+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T20:27:09.774+08:00  INFO 26900 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T20:27:09.820+08:00  INFO 26900 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T20:27:09.820+08:00  INFO 26900 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T20:27:09.939+08:00  INFO 26900 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T20:27:09.940+08:00  INFO 26900 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4365 ms
2025-09-23T20:27:10.060+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T20:27:11.012+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T20:27:11.068+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T20:27:11.113+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T20:27:11.165+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T20:27:11.186+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T20:27:11.202+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T20:27:11.215+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T20:27:11.231+08:00 DEBUG 26900 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T20:27:12.845+08:00  WARN 26900 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fc1ebb7c-3e2b-476d-a9df-0ab4aca3f95d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T20:27:12.867+08:00  INFO 26900 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T20:27:15.089+08:00  INFO 26900 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T20:27:15.105+08:00  INFO 26900 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 11.603 seconds (process running for 14.247)
2025-09-23T20:27:24.538+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T20:27:24.539+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T20:27:24.542+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-09-23T20:27:24.931+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:27:24.935+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:27:24.939+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:27:24.939+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:27:24.941+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 6ms
2025-09-23T20:27:24.944+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 5ms
2025-09-23T20:27:28.824+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:27:28.825+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:27:28.827+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T20:27:35.217+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:27:35.259+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 41ms
2025-09-23T20:27:42.646+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T20:27:42.648+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T20:27:45.786+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 3138ms
2025-09-23T20:27:46.343+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T20:27:46.474+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:27:46.475+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:27:46.548+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T20:27:46.972+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTkyNjI2NDgsImV4cCI6MTc1ODYzMDk0NSwianRpIjoiZGQ4NDFkZTctMTkwNC00NDRjLThhZmMtYmNkMDg4ODExYWNlIiwic3ViIjoiMSJ9.4MLQvaC1AsvkX2ni5DjjoBU-ZnwmWIKpr49vTvYIA2E，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:27:47.102+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是1b507765-8aea-cb99-a4a1-279af076f0ef
2025-09-23T20:28:26.883+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:28:27.030+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:28:27.031+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:28:27.031+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T20:28:27.400+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTkyNjI2NDgsImV4cCI6MTc1ODYzMDk0NSwianRpIjoiZGQ4NDFkZTctMTkwNC00NDRjLThhZmMtYmNkMDg4ODExYWNlIiwic3ViIjoiMSJ9.4MLQvaC1AsvkX2ni5DjjoBU-ZnwmWIKpr49vTvYIA2E，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:28:27.904+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是6a2d6986-7529-0fec-4742-96a7f5149787
2025-09-23T20:28:40.603+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:28:40.604+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 0ms
2025-09-23T20:28:58.491+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T20:29:17.217+08:00 ERROR 26900 --- [LibrarySystem] [http-nio-8080-exec-6] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=6a2d6986-7529-0fec-4742-96a7f5149787, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTkyNjI2NDgsImV4cCI6MTc1ODYzMDk0NSwianRpIjoiZGQ4NDFkZTctMTkwNC00NDRjLThhZmMtYmNkMDg4ODExYWNlIiwic3ViIjoiMSJ9.4MLQvaC1AsvkX2ni5DjjoBU-ZnwmWIKpr49vTvYIA2E&device=phone]

io.jsonwebtoken.MalformedJwtException: Unable to read JSON value: �֭��bu������)]P��������!L��؉
	at io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:554) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:252) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]
	at org.powernode.springboot.tool.JwtTool.checkJwt(JwtTool.java:133) ~[classes/:na]
	at org.powernode.springboot.tool.JwtTool.getId(JwtTool.java:137) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleMessage(ManagerWebSocketHandler.java:114) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleTextMessage(ManagerWebSocketHandler.java:92) ~[classes/:na]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('�' (code 65533 / 0xfffd)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 1]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2672) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:742) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:2054) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:780) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:5058) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4961) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3887) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3855) ~[jackson-databind-2.19.2.jar:2.19.2]
	at io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:552) ~[jjwt-0.9.1.jar:0.9.1]
	... 32 common frames omitted

2025-09-23T20:30:18.835+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T20:31:39.003+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:31:39.004+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 0ms
2025-09-23T20:32:06.060+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:32:06.062+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 2ms
2025-09-23T20:32:40.763+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T20:32:40.763+08:00  INFO 26900 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T20:32:40.766+08:00 DEBUG 26900 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 3ms
2025-09-23T20:33:26.518+08:00  INFO 26900 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T20:33:26.529+08:00  INFO 26900 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T20:33:26.555+08:00  INFO 26900 --- [LibrarySystem] [SpringApplicationShutdownHook] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T20:33:32.367+08:00  INFO 25736 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 25736 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T20:33:32.371+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T20:33:32.373+08:00  INFO 25736 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T20:33:33.744+08:00  INFO 25736 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T20:33:33.749+08:00  INFO 25736 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T20:33:33.817+08:00  INFO 25736 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2025-09-23T20:33:34.013+08:00 DEBUG 25736 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T20:33:34.016+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T20:33:34.017+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T20:33:34.017+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T20:33:34.017+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T20:33:34.017+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T20:33:34.017+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T20:33:34.017+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T20:33:34.018+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T20:33:34.018+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T20:33:34.019+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T20:33:34.021+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T20:33:34.021+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T20:33:34.024+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T20:33:34.025+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T20:33:34.026+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T20:33:34.026+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T20:33:34.027+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T20:33:34.027+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T20:33:34.027+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T20:33:34.027+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T20:33:34.028+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T20:33:34.028+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T20:33:34.029+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T20:33:34.029+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T20:33:34.030+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T20:33:35.216+08:00  INFO 25736 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T20:33:35.238+08:00  INFO 25736 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T20:33:35.239+08:00  INFO 25736 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T20:33:35.310+08:00  INFO 25736 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T20:33:35.310+08:00  INFO 25736 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2831 ms
2025-09-23T20:33:35.414+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T20:33:35.972+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T20:33:35.997+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T20:33:36.008+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T20:33:36.021+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T20:33:36.041+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T20:33:36.065+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T20:33:36.084+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T20:33:36.100+08:00 DEBUG 25736 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T20:33:36.699+08:00  WARN 25736 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 60fd13d8-ea61-461d-b62a-309fab66462a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T20:33:36.710+08:00  INFO 25736 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T20:33:38.434+08:00  INFO 25736 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T20:33:38.453+08:00  INFO 25736 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 7.266 seconds (process running for 9.382)
2025-09-23T20:33:38.539+08:00  INFO 25736 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T20:33:38.541+08:00  INFO 25736 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T20:33:38.544+08:00  INFO 25736 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-09-23T20:33:38.791+08:00 DEBUG 25736 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:33:38.852+08:00 DEBUG 25736 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 58ms
2025-09-23T20:34:01.198+08:00 DEBUG 25736 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:34:01.199+08:00 DEBUG 25736 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 1ms
2025-09-23T20:35:11.677+08:00  INFO 25736 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T20:35:11.682+08:00  INFO 25736 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T20:35:19.808+08:00  INFO 27792 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 27792 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T20:35:19.813+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T20:35:19.814+08:00  INFO 27792 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T20:35:20.982+08:00  INFO 27792 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T20:35:20.984+08:00  INFO 27792 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T20:35:21.034+08:00  INFO 27792 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-09-23T20:35:21.183+08:00 DEBUG 27792 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T20:35:21.187+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T20:35:21.187+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T20:35:21.187+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T20:35:21.187+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T20:35:21.187+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T20:35:21.187+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T20:35:21.188+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T20:35:21.189+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T20:35:21.189+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T20:35:21.191+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T20:35:21.192+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T20:35:21.193+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T20:35:21.194+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T20:35:21.195+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T20:35:21.195+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T20:35:21.196+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T20:35:21.196+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T20:35:21.196+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T20:35:21.197+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T20:35:21.197+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T20:35:21.199+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T20:35:21.199+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T20:35:21.199+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T20:35:21.199+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T20:35:21.200+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T20:35:22.242+08:00  INFO 27792 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T20:35:22.265+08:00  INFO 27792 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T20:35:22.265+08:00  INFO 27792 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T20:35:22.338+08:00  INFO 27792 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T20:35:22.339+08:00  INFO 27792 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2415 ms
2025-09-23T20:35:22.453+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T20:35:23.051+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T20:35:23.071+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T20:35:23.083+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T20:35:23.096+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T20:35:23.113+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T20:35:23.120+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T20:35:23.129+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T20:35:23.142+08:00 DEBUG 27792 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T20:35:23.695+08:00  WARN 27792 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: d5aa5fc6-fc18-4332-8ed7-61bc6c050e3c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T20:35:23.703+08:00  INFO 27792 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T20:35:24.976+08:00  INFO 27792 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T20:35:24.994+08:00  INFO 27792 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 6.18 seconds (process running for 8.076)
2025-09-23T20:35:47.188+08:00  INFO 27792 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T20:35:47.198+08:00  INFO 27792 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T20:35:56.384+08:00  INFO 42144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 42144 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T20:35:56.386+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T20:35:56.387+08:00  INFO 42144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T20:35:57.680+08:00  INFO 42144 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T20:35:57.683+08:00  INFO 42144 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T20:35:57.744+08:00  INFO 42144 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-09-23T20:35:58.011+08:00 DEBUG 42144 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T20:35:58.016+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T20:35:58.017+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T20:35:58.018+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T20:35:58.020+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T20:35:58.020+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T20:35:58.023+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T20:35:58.023+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T20:35:58.024+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T20:35:58.024+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T20:35:58.025+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T20:35:58.025+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T20:35:58.025+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T20:35:58.025+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T20:35:58.026+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T20:35:58.026+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T20:35:58.026+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T20:35:58.027+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T20:35:58.028+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T20:35:59.249+08:00  INFO 42144 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T20:35:59.269+08:00  INFO 42144 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T20:35:59.270+08:00  INFO 42144 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T20:35:59.347+08:00  INFO 42144 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T20:35:59.348+08:00  INFO 42144 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2897 ms
2025-09-23T20:35:59.467+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T20:35:59.951+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T20:35:59.967+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T20:35:59.977+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T20:35:59.987+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T20:36:00.004+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T20:36:00.013+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T20:36:00.023+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T20:36:00.035+08:00 DEBUG 42144 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T20:36:00.598+08:00  WARN 42144 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 6ad1beae-95e6-4477-882d-659504a23238

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T20:36:00.608+08:00  INFO 42144 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T20:36:01.744+08:00  INFO 42144 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T20:36:01.763+08:00  INFO 42144 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 6.318 seconds (process running for 8.332)
2025-09-23T20:36:01.948+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T20:36:01.948+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T20:36:01.950+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-09-23T20:36:02.182+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:36:28.552+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 26368ms
2025-09-23T20:36:42.677+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T20:36:42.678+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T20:36:42.679+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1ms
2025-09-23T20:36:45.296+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T20:36:45.451+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:36:45.451+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:36:45.579+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T20:36:45.792+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTk4MDI2NzgsImV4cCI6MTc1ODYzMTQ4MiwianRpIjoiYjBmYzQwNjItZWE5YS00MDQ2LWFkNzEtYmE1ZjdiYmM1M2JkIiwic3ViIjoiMSJ9.NRyrE5aN9crsBeGMdst3SviJGa5PBGNMHaKVGRh3ITM，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:36:45.969+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是92ad112c-012f-5d5e-10ab-dc4f76a1c8f6
2025-09-23T20:37:04.416+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:37:04.540+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:37:04.540+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:37:04.541+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T20:37:04.801+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTk4MDI2NzgsImV4cCI6MTc1ODYzMTQ4MiwianRpIjoiYjBmYzQwNjItZWE5YS00MDQ2LWFkNzEtYmE1ZjdiYmM1M2JkIiwic3ViIjoiMSJ9.NRyrE5aN9crsBeGMdst3SviJGa5PBGNMHaKVGRh3ITM，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:37:05.065+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是c4efa5a6-fc3c-6fd8-dcc3-7b93f55e9437
2025-09-23T20:37:15.314+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:37:18.296+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 2981ms
2025-09-23T20:37:29.748+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T20:37:37.365+08:00 ERROR 42144 --- [LibrarySystem] [http-nio-8080-exec-8] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=c4efa5a6-fc3c-6fd8-dcc3-7b93f55e9437, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTk4MDI2NzgsImV4cCI6MTc1ODYzMTQ4MiwianRpIjoiYjBmYzQwNjItZWE5YS00MDQ2LWFkNzEtYmE1ZjdiYmM1M2JkIiwic3ViIjoiMSJ9.NRyrE5aN9crsBeGMdst3SviJGa5PBGNMHaKVGRh3ITM&device=phone]

io.jsonwebtoken.MalformedJwtException: Unable to read JSON value: �֭��bu������)]P��������!L��؉
	at io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:554) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:252) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]
	at org.powernode.springboot.tool.JwtTool.checkJwt(JwtTool.java:133) ~[classes/:na]
	at org.powernode.springboot.tool.JwtTool.getId(JwtTool.java:137) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleMessage(ManagerWebSocketHandler.java:114) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleTextMessage(ManagerWebSocketHandler.java:92) ~[classes/:na]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('�' (code 65533 / 0xfffd)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 1]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2672) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:742) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:2054) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:780) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:5058) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4961) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3887) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3855) ~[jackson-databind-2.19.2.jar:2.19.2]
	at io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:552) ~[jjwt-0.9.1.jar:0.9.1]
	... 32 common frames omitted

2025-09-23T20:37:37.393+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T20:41:39.298+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:41:39.464+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:41:39.464+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:41:39.464+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T20:41:39.770+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTk4MDI2NzgsImV4cCI6MTc1ODYzMTQ4MiwianRpIjoiYjBmYzQwNjItZWE5YS00MDQ2LWFkNzEtYmE1ZjdiYmM1M2JkIiwic3ViIjoiMSJ9.NRyrE5aN9crsBeGMdst3SviJGa5PBGNMHaKVGRh3ITM，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:41:40.423+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是82686507-f956-6a86-a7c2-2bf8dd5d0683
2025-09-23T20:41:55.565+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:41:59.670+08:00 DEBUG 42144 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 4104ms
2025-09-23T20:42:41.680+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T20:42:50.938+08:00 ERROR 42144 --- [LibrarySystem] [http-nio-8080-exec-9] w.s.h.ExceptionWebSocketHandlerDecorator : Closing session due to exception for StandardWebSocketSession[id=82686507-f956-6a86-a7c2-2bf8dd5d0683, uri=ws://localhost:8080/manager/connect?connectToken=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NTk4MDI2NzgsImV4cCI6MTc1ODYzMTQ4MiwianRpIjoiYjBmYzQwNjItZWE5YS00MDQ2LWFkNzEtYmE1ZjdiYmM1M2JkIiwic3ViIjoiMSJ9.NRyrE5aN9crsBeGMdst3SviJGa5PBGNMHaKVGRh3ITM&device=phone]

io.jsonwebtoken.MalformedJwtException: Unable to read JSON value: �֭��bu������)]P��������!L��؉
	at io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:554) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:252) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]
	at org.powernode.springboot.tool.JwtTool.checkJwt(JwtTool.java:133) ~[classes/:na]
	at org.powernode.springboot.tool.JwtTool.getId(JwtTool.java:137) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleMessage(ManagerWebSocketHandler.java:114) ~[classes/:na]
	at org.powernode.springboot.websocket.handler.ManagerWebSocketHandler.handleTextMessage(ManagerWebSocketHandler.java:92) ~[classes/:na]
	at org.springframework.web.socket.handler.AbstractWebSocketHandler.handleMessage(AbstractWebSocketHandler.java:43) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.WebSocketHandlerDecorator.handleMessage(WebSocketHandlerDecorator.java:75) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator.handleMessage(LoggingWebSocketHandlerDecorator.java:56) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.handler.ExceptionWebSocketHandlerDecorator.handleMessage(ExceptionWebSocketHandlerDecorator.java:58) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter.handleTextMessage(StandardWebSocketHandlerAdapter.java:113) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:84) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.springframework.web.socket.adapter.standard.StandardWebSocketHandlerAdapter$3.onMessage(StandardWebSocketHandlerAdapter.java:81) ~[spring-websocket-6.2.9.jar:6.2.9]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:389) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:483) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:283) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:129) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('�' (code 65533 / 0xfffd)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 1]
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2672) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:742) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddValue(ReaderBasedJsonParser.java:2054) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:780) ~[jackson-core-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:5058) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4961) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3887) ~[jackson-databind-2.19.2.jar:2.19.2]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3855) ~[jackson-databind-2.19.2.jar:2.19.2]
	at io.jsonwebtoken.impl.DefaultJwtParser.readValue(DefaultJwtParser.java:552) ~[jjwt-0.9.1.jar:0.9.1]
	... 32 common frames omitted

2025-09-23T20:42:50.947+08:00  INFO 42144 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T20:45:14.385+08:00  INFO 42144 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T20:45:14.394+08:00  INFO 42144 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T20:45:14.432+08:00  INFO 42144 --- [LibrarySystem] [SpringApplicationShutdownHook] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T20:45:20.986+08:00  INFO 40064 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 40064 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T20:45:20.987+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T20:45:20.988+08:00  INFO 40064 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T20:45:22.003+08:00  INFO 40064 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T20:45:22.005+08:00  INFO 40064 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T20:45:22.059+08:00  INFO 40064 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-09-23T20:45:22.222+08:00 DEBUG 40064 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T20:45:22.226+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T20:45:22.227+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T20:45:22.231+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T20:45:22.233+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T20:45:22.234+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T20:45:22.235+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T20:45:22.235+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T20:45:22.236+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T20:45:22.236+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T20:45:22.236+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T20:45:22.236+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T20:45:22.237+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T20:45:22.237+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T20:45:22.237+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T20:45:22.237+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T20:45:22.239+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T20:45:22.239+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T20:45:22.239+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T20:45:23.145+08:00  INFO 40064 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T20:45:23.161+08:00  INFO 40064 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T20:45:23.162+08:00  INFO 40064 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T20:45:23.216+08:00  INFO 40064 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T20:45:23.217+08:00  INFO 40064 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms
2025-09-23T20:45:23.302+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T20:45:23.742+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T20:45:23.756+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T20:45:23.767+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T20:45:23.778+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T20:45:23.785+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T20:45:23.790+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T20:45:23.798+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T20:45:23.813+08:00 DEBUG 40064 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T20:45:24.259+08:00  WARN 40064 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 798cdaf3-8bc5-444e-a5a7-876b3e6c6449

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T20:45:24.269+08:00  INFO 40064 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T20:45:25.095+08:00  INFO 40064 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T20:45:25.107+08:00  INFO 40064 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 4.731 seconds (process running for 6.017)
2025-09-23T20:45:37.806+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T20:45:37.806+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T20:45:37.806+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-09-23T20:45:37.958+08:00 DEBUG 40064 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:45:41.099+08:00 DEBUG 40064 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 3140ms
2025-09-23T20:45:57.413+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:46:00.385+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是null
2025-09-23T20:46:00.817+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为99，设备为null，权限为user
2025-09-23T20:46:14.436+08:00 DEBUG 40064 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T20:46:14.438+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T20:46:14.439+08:00 DEBUG 40064 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1ms
2025-09-23T20:46:16.331+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T20:46:16.511+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:46:16.512+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:46:16.675+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T20:46:16.875+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NjAzNzQ0MzgsImV4cCI6MTc1ODYzMjA1NCwianRpIjoiNWI3NzExZDMtODI5Mi00YmFhLTk3MGItOTNiOGEwODg0YjEyIiwic3ViIjoiMSJ9.iZJWOBxxDUwOguphn-MuRO3xC8qhJ2UjlZ72nlvrCeM，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:46:17.088+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-7] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是77e174c2-f463-7fba-a29b-756e68d359ae
2025-09-23T20:46:33.833+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T20:46:34.493+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T20:46:34.493+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T20:46:34.493+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T20:46:34.633+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NjAzNzQ0MzgsImV4cCI6MTc1ODYzMjA1NCwianRpIjoiNWI3NzExZDMtODI5Mi00YmFhLTk3MGItOTNiOGEwODg0YjEyIiwic3ViIjoiMSJ9.iZJWOBxxDUwOguphn-MuRO3xC8qhJ2UjlZ72nlvrCeM，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T20:46:34.851+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是848951f1-2063-2dcf-97a6-1965bcf83606
2025-09-23T20:46:44.267+08:00 DEBUG 40064 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T20:46:48.816+08:00 DEBUG 40064 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 4548ms
2025-09-23T20:47:09.136+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T20:47:25.140+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-1] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已成功用手机向电脑发送用户的身份信息
2025-09-23T20:47:36.635+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T20:47:36.650+08:00  INFO 40064 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T22:30:08.853+08:00  INFO 40064 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T22:30:08.865+08:00  INFO 40064 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T22:30:39.490+08:00  INFO 42932 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 42932 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T22:30:39.492+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T22:30:39.493+08:00  INFO 42932 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T22:30:40.711+08:00  INFO 42932 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T22:30:40.715+08:00  INFO 42932 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T22:30:40.778+08:00  INFO 42932 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 Redis repository interfaces.
2025-09-23T22:30:41.024+08:00 DEBUG 42932 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T22:30:41.027+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T22:30:41.028+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T22:30:41.028+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T22:30:41.028+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T22:30:41.028+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T22:30:41.028+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T22:30:41.028+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T22:30:41.029+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T22:30:41.029+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T22:30:41.032+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T22:30:41.036+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T22:30:41.037+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T22:30:41.037+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T22:30:41.037+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T22:30:41.038+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T22:30:41.038+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T22:30:41.039+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T22:30:41.039+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T22:30:41.039+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T22:30:41.039+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T22:30:41.040+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T22:30:41.040+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T22:30:41.040+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T22:30:41.041+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T22:30:41.041+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T22:30:42.812+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T22:30:42.848+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T22:30:42.862+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T22:30:42.881+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T22:30:42.906+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T22:30:42.917+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T22:30:42.949+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T22:30:42.982+08:00 DEBUG 42932 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T22:30:44.292+08:00  WARN 42932 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: c9c3379d-8672-4bb8-a368-4fff7c646e41

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T22:30:44.324+08:00  INFO 42932 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T22:30:46.420+08:00  INFO 42932 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 7.618 seconds (process running for 9.514)
2025-09-23T22:44:45.143+08:00  INFO 34892 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 34892 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T22:44:45.145+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T22:44:45.146+08:00  INFO 34892 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T22:44:46.364+08:00  INFO 34892 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T22:44:46.366+08:00  INFO 34892 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T22:44:46.416+08:00  INFO 34892 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-09-23T22:44:46.628+08:00 DEBUG 34892 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T22:44:46.634+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T22:44:46.634+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T22:44:46.634+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T22:44:46.634+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T22:44:46.635+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T22:44:46.635+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T22:44:46.635+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T22:44:46.635+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T22:44:46.635+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T22:44:46.636+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T22:44:46.641+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T22:44:46.642+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T22:44:46.642+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T22:44:46.642+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T22:44:46.643+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T22:44:46.644+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T22:44:46.644+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T22:44:46.644+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T22:44:46.645+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T22:44:46.645+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T22:44:46.646+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T22:44:46.646+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T22:44:46.647+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T22:44:46.647+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T22:44:46.647+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T22:44:47.890+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T22:44:47.907+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T22:44:47.916+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T22:44:47.929+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T22:44:47.940+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T22:44:47.950+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T22:44:47.972+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T22:44:47.984+08:00 DEBUG 34892 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T22:44:48.790+08:00  WARN 34892 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 10bb4fe7-5651-43b4-b240-aeb7329bc966

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T22:44:48.830+08:00  INFO 34892 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T22:44:50.417+08:00  INFO 34892 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 5.709 seconds (process running for 8.439)
2025-09-23T22:48:30.923+08:00  INFO 35252 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 35252 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T22:48:30.925+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T22:48:30.926+08:00  INFO 35252 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T22:48:32.159+08:00  INFO 35252 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T22:48:32.162+08:00  INFO 35252 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T22:48:32.223+08:00  INFO 35252 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2025-09-23T22:48:32.411+08:00 DEBUG 35252 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T22:48:32.415+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T22:48:32.416+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T22:48:32.418+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T22:48:32.420+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T22:48:32.420+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T22:48:32.421+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T22:48:32.421+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T22:48:32.422+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T22:48:32.422+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T22:48:32.422+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T22:48:32.422+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T22:48:32.423+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T22:48:32.423+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T22:48:32.423+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T22:48:32.423+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T22:48:32.424+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T22:48:32.424+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T22:48:32.424+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T22:48:33.178+08:00  INFO 35252 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T22:48:33.198+08:00  INFO 35252 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T22:48:33.198+08:00  INFO 35252 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T22:48:33.276+08:00  INFO 35252 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T22:48:33.276+08:00  INFO 35252 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2279 ms
2025-09-23T22:48:33.408+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T22:48:34.094+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T22:48:34.111+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T22:48:34.124+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T22:48:34.136+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T22:48:34.144+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T22:48:34.155+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T22:48:34.162+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T22:48:34.172+08:00 DEBUG 35252 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T22:48:34.717+08:00  WARN 35252 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: e7636119-12c2-4239-b9e7-bef16a398e10

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T22:48:34.726+08:00  INFO 35252 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T22:48:34.812+08:00  WARN 35252 --- [LibrarySystem] [main] thorizationManagerRequestMatcherRegistry : One of the patterns in [/user/getAllLibraryStorage, /user/getCharts, /user/postRecommendToStore, /user/getUseInfo, /user/generateQrToken, /user/getBookRecord, /user/generateTestQrToken, openApi] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-09-23T22:48:35.937+08:00  INFO 35252 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T22:48:35.955+08:00  INFO 35252 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 5.776 seconds (process running for 6.645)
2025-09-23T22:50:49.893+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T22:50:49.894+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T22:50:49.895+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-09-23T22:50:49.981+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T22:50:49.982+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T22:50:49.986+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T22:50:49.988+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T22:50:50.539+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@36630965
2025-09-23T22:50:50.542+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T22:50:50.549+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] for JDBC transaction
2025-09-23T22:50:50.551+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] to manual commit
2025-09-23T22:50:50.553+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T22:50:50.559+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T22:50:50.569+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1]
2025-09-23T22:50:50.575+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] will be managed by Spring
2025-09-23T22:50:50.581+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T22:50:50.611+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T22:50:50.640+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T22:50:50.646+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1]
2025-09-23T22:50:50.647+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1] from current transaction
2025-09-23T22:50:50.647+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T22:50:50.647+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T22:50:50.650+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T22:50:50.650+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1]
2025-09-23T22:50:50.651+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 98ms
2025-09-23T22:50:50.651+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1]
2025-09-23T22:50:50.652+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1]
2025-09-23T22:50:50.653+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7a5fd9d1]
2025-09-23T22:50:50.653+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T22:50:50.654+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965]
2025-09-23T22:50:50.657+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@904575021 wrapping com.mysql.cj.jdbc.ConnectionImpl@36630965] after transaction
2025-09-23T22:50:50.725+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T22:50:50.727+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-4] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 745ms
2025-09-23T22:50:50.799+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:50:50.800+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:50:50.802+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T22:50:55.398+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:50:55.400+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:50:55.401+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T22:50:58.610+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:50:58.610+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:50:58.611+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T22:51:06.018+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:51:06.019+08:00  INFO 35252 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:51:06.019+08:00 DEBUG 35252 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T22:51:14.759+08:00 ERROR 35252 --- [LibrarySystem] [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

org.powernode.springboot.exception.WrongCsrfError: 权限错误，请重新登录
	at org.powernode.springboot.tool.JwtTool.checkCsrf(JwtTool.java:180) ~[classes/:na]
	at org.powernode.springboot.tool.JwtTool.findJwt(JwtTool.java:166) ~[classes/:na]
	at org.powernode.springboot.fliter.JwtFilter.doFilterInternal(JwtFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T22:51:15.025+08:00 ERROR 35252 --- [LibrarySystem] [http-nio-8080-exec-7] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

org.powernode.springboot.exception.WrongCsrfError: 权限错误，请重新登录
	at org.powernode.springboot.tool.JwtTool.checkCsrf(JwtTool.java:180) ~[classes/:na]
	at org.powernode.springboot.tool.JwtTool.findJwt(JwtTool.java:166) ~[classes/:na]
	at org.powernode.springboot.fliter.JwtFilter.doFilterInternal(JwtFilter.java:43) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.2.jar:6.5.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.9.jar:6.2.9]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.9.jar:6.2.9]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.43.jar:10.1.43]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-09-23T22:52:42.982+08:00  INFO 35252 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T22:52:42.987+08:00  INFO 35252 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T22:52:43.006+08:00  INFO 35252 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T22:52:43.017+08:00  INFO 35252 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T22:52:45.504+08:00  INFO 44484 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 44484 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T22:52:45.506+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T22:52:45.507+08:00  INFO 44484 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T22:52:46.327+08:00  INFO 44484 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T22:52:46.329+08:00  INFO 44484 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T22:52:46.374+08:00  INFO 44484 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-09-23T22:52:46.479+08:00 DEBUG 44484 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T22:52:46.484+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T22:52:46.485+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T22:52:46.486+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T22:52:46.487+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T22:52:46.487+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T22:52:46.488+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T22:52:46.488+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T22:52:46.488+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T22:52:46.488+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T22:52:46.489+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T22:52:46.489+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T22:52:46.489+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T22:52:46.490+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T22:52:46.490+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T22:52:46.490+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T22:52:46.490+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T22:52:46.490+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T22:52:46.490+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T22:52:47.122+08:00  INFO 44484 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T22:52:47.138+08:00  INFO 44484 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T22:52:47.138+08:00  INFO 44484 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T22:52:47.178+08:00  INFO 44484 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T22:52:47.179+08:00  INFO 44484 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1625 ms
2025-09-23T22:52:47.231+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T22:52:47.584+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T22:52:47.599+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T22:52:47.608+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T22:52:47.618+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T22:52:47.625+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T22:52:47.631+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T22:52:47.636+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T22:52:47.647+08:00 DEBUG 44484 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T22:52:48.056+08:00  WARN 44484 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 6da0b995-a70d-498d-877d-d2f0b1a7cf62

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T22:52:48.066+08:00  INFO 44484 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T22:52:48.897+08:00  INFO 44484 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T22:52:48.907+08:00  INFO 44484 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 3.921 seconds (process running for 4.743)
2025-09-23T22:53:10.098+08:00  INFO 44484 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T22:53:10.104+08:00  INFO 44484 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T22:53:12.621+08:00  INFO 20192 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Starting LibrarySystemApplication using Java 21.0.7 with PID 20192 (E:\ideaTry\LibrarySystem\target\classes started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T22:53:12.624+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T22:53:12.624+08:00  INFO 20192 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : The following 1 profile is active: "dev"
2025-09-23T22:53:13.462+08:00  INFO 20192 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T22:53:13.466+08:00  INFO 20192 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T22:53:13.511+08:00  INFO 20192 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-09-23T22:53:13.621+08:00 DEBUG 20192 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T22:53:13.623+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T22:53:13.624+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T22:53:13.625+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T22:53:13.626+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T22:53:13.626+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T22:53:13.626+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T22:53:13.626+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T22:53:13.626+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T22:53:13.627+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T22:53:13.627+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T22:53:13.627+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T22:53:13.627+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T22:53:13.627+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T22:53:13.627+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T22:53:13.628+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T22:53:13.628+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T22:53:13.628+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T22:53:14.261+08:00  INFO 20192 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-09-23T22:53:14.280+08:00  INFO 20192 --- [LibrarySystem] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-09-23T22:53:14.280+08:00  INFO 20192 --- [LibrarySystem] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-09-23T22:53:14.327+08:00  INFO 20192 --- [LibrarySystem] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-09-23T22:53:14.328+08:00  INFO 20192 --- [LibrarySystem] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1648 ms
2025-09-23T22:53:14.388+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.powernode.springboot.fliter.JwtFilter  : Filter 'jwtFilter' configured for use
2025-09-23T22:53:14.721+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T22:53:14.735+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T22:53:14.749+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T22:53:14.765+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T22:53:14.786+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T22:53:14.799+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T22:53:14.817+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T22:53:14.838+08:00 DEBUG 20192 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T22:53:15.292+08:00  WARN 20192 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 2ef0b2fc-ba4b-4b24-baa2-79fb673a1dea

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T22:53:15.300+08:00  INFO 20192 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T22:53:16.082+08:00  INFO 20192 --- [LibrarySystem] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-09-23T22:53:16.091+08:00  INFO 20192 --- [LibrarySystem] [main] o.p.springboot.LibrarySystemApplication  : Started LibrarySystemApplication in 3.985 seconds (process running for 4.746)
2025-09-23T22:54:40.499+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-23T22:54:40.499+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-09-23T22:54:40.501+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-09-23T22:54:40.599+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkPassword()
2025-09-23T22:54:40.601+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 管理员1正在登录中
2025-09-23T22:54:40.605+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [org.powernode.springboot.service.database.service.impl.ManagerServiceImpl.checkPassword]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-09-23T22:54:40.607+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-09-23T22:54:41.072+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fc945f3
2025-09-23T22:54:41.074+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-09-23T22:54:41.081+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1157970512 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fc945f3] for JDBC transaction
2025-09-23T22:54:41.084+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1157970512 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fc945f3] to manual commit
2025-09-23T22:54:41.085+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行开始: ManagerServiceImpl.checkPassword()
2025-09-23T22:54:41.092+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Creating a new SqlSession
2025-09-23T22:54:41.105+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329]
2025-09-23T22:54:41.121+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.m.s.t.SpringManagedTransaction         : JDBC Connection [HikariProxyConnection@1157970512 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fc945f3] will be managed by Spring
2025-09-23T22:54:41.131+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : ==>  Preparing: select count(*) from manager where id=?
2025-09-23T22:54:41.171+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : ==> Parameters: 1(Long)
2025-09-23T22:54:41.221+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.hasManager       : <==      Total: 1
2025-09-23T22:54:41.228+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329]
2025-09-23T22:54:41.229+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329] from current transaction
2025-09-23T22:54:41.229+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : ==>  Preparing: select password from manager where id=?
2025-09-23T22:54:41.229+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : ==> Parameters: 1(Long)
2025-09-23T22:54:41.233+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.m.d.ManagerMapper.selectPassword   : <==      Total: 1
2025-09-23T22:54:41.233+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329]
2025-09-23T22:54:41.233+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.s.d.s.impl.ManagerServiceImpl      : 执行成功: ManagerServiceImpl.checkPassword() - 耗时: 147ms
2025-09-23T22:54:41.235+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329]
2025-09-23T22:54:41.237+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329]
2025-09-23T22:54:41.238+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] org.mybatis.spring.SqlSessionUtils       : Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4d85329]
2025-09-23T22:54:41.239+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-09-23T22:54:41.239+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1157970512 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fc945f3]
2025-09-23T22:54:41.242+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1157970512 wrapping com.mysql.cj.jdbc.ConnectionImpl@5fc945f3] after transaction
2025-09-23T22:54:41.309+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 管理员1登录成功
2025-09-23T22:54:41.310+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-2] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkPassword() - 耗时: 709ms
2025-09-23T22:54:41.386+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:54:41.386+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:54:41.387+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T22:54:49.529+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:54:49.529+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:54:49.531+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 2ms
2025-09-23T22:54:58.169+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.generateQrToken()
2025-09-23T22:54:58.169+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 编号为1的管理员正在获取websocket连接的token
2025-09-23T22:54:58.170+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.generateQrToken() - 耗时: 1ms
2025-09-23T22:54:58.179+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 设备pc正在发送连接请求
2025-09-23T22:54:58.181+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T22:54:58.181+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T22:54:58.181+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.i.AuthHandshakeInterceptor       : id为1，设备为pc，token为pc，权限为manager的管理员成功加入会话,是此管理员这次连接的第一个连接者
2025-09-23T22:54:58.224+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NjgwOTgxNzAsImV4cCI6MTc1ODYzOTc3OCwianRpIjoiNmE2ODhjNWUtNGNmYS00YmMwLThlYjgtMWMwZTQ0N2UwN2ZmIiwic3ViIjoiMSJ9.IB4dS-9HzZMkRdHKQkbrVkeUEzNdKXU3beKaU-MPegI，设备是pc,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T22:54:58.251+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用pc建立连接，session编号是2e8bd404-b3da-0b79-741f-37039772bc9f
2025-09-23T22:55:57.388+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 设备phone正在发送连接请求
2025-09-23T22:55:57.389+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 解析出来的token的设备是pc
2025-09-23T22:55:57.389+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 握手阶段检测出当前管理员id为1，设备为pc，权限为manager
2025-09-23T22:55:57.389+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.i.AuthHandshakeInterceptor       : 检出当前管理员存在过连接，使用的token相同,id为1，设备为phone，token为pc，权限为manager的管理员成功加入会话
2025-09-23T22:55:57.393+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.handler.ManagerWebSocketHandler  : token是eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwicm9sZSI6Im1hbmFnZXIiLCJkZXZpY2UiOiJwYyIsInRpbWUiOjE3NTg2NjgwOTgxNzAsImV4cCI6MTc1ODYzOTc3OCwianRpIjoiNmE2ODhjNWUtNGNmYS00YmMwLThlYjgtMWMwZTQ0N2UwN2ZmIiwic3ViIjoiMSJ9.IB4dS-9HzZMkRdHKQkbrVkeUEzNdKXU3beKaU-MPegI，设备是phone,权限是manager，编号是1的管理员成功建立连接，现在开始再次验证信息,检测出token解析出来的设备是pc，权限是manager，编号是1
2025-09-23T22:55:57.394+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已经使用phone建立连接，session编号是79b4f0d0-bb06-ad32-7249-a793f1f55241
2025-09-23T22:56:06.037+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.UserController          : 执行开始: UserController.generateQrToken()
2025-09-23T22:56:06.039+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-3] o.p.s.controller.UserController          : 执行成功: UserController.generateQrToken() - 耗时: 0ms
2025-09-23T22:56:22.953+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T22:56:22.977+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-5] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已成功用手机向电脑发送用户的身份信息
2025-09-23T22:56:32.245+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-6] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的pc设备已断开连接
2025-09-23T22:56:32.775+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行开始: ManagerController.checkIsManager()
2025-09-23T22:56:32.776+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 正在验证是否有管理员1的权限
2025-09-23T22:56:32.777+08:00 DEBUG 20192 --- [LibrarySystem] [http-nio-8080-exec-8] o.p.s.controller.ManagerController       : 执行成功: ManagerController.checkIsManager() - 耗时: 1ms
2025-09-23T22:56:42.809+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : 1的phone发来信息
2025-09-23T22:56:42.812+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-9] o.p.s.w.handler.ManagerWebSocketHandler  : 编号为1的管理员已成功用手机向电脑发送用户的身份信息
2025-09-23T22:57:01.601+08:00  INFO 20192 --- [LibrarySystem] [http-nio-8080-exec-10] o.p.s.w.handler.ManagerWebSocketHandler  : id为1的管理员的phone设备已断开连接
2025-09-23T22:58:11.664+08:00  INFO 20192 --- [LibrarySystem] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-09-23T22:58:11.670+08:00  INFO 20192 --- [LibrarySystem] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-09-23T22:58:11.686+08:00  INFO 20192 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-09-23T22:58:11.695+08:00  INFO 20192 --- [LibrarySystem] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-09-23T22:58:27.597+08:00  INFO 31324 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 31324 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-09-23T22:58:27.599+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-09-23T22:58:27.602+08:00  INFO 31324 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-09-23T22:58:28.726+08:00  INFO 31324 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-23T22:58:28.731+08:00  INFO 31324 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-09-23T22:58:28.790+08:00  INFO 31324 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-09-23T22:58:28.986+08:00 DEBUG 31324 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-09-23T22:58:28.989+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-09-23T22:58:28.989+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-09-23T22:58:28.989+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-09-23T22:58:28.989+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-09-23T22:58:28.991+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-09-23T22:58:28.991+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-09-23T22:58:28.991+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-09-23T22:58:28.991+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-09-23T22:58:28.992+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-09-23T22:58:28.993+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-09-23T22:58:28.996+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-09-23T22:58:28.997+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-09-23T22:58:28.998+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-09-23T22:58:28.998+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-09-23T22:58:28.998+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-09-23T22:58:28.999+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-09-23T22:58:28.999+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-09-23T22:58:28.999+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-09-23T22:58:29.000+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-09-23T22:58:29.000+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-09-23T22:58:29.000+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-09-23T22:58:29.000+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-09-23T22:58:29.001+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-09-23T22:58:29.001+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-09-23T22:58:29.002+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-09-23T22:58:30.286+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-09-23T22:58:30.309+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-09-23T22:58:30.338+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-09-23T22:58:30.351+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-09-23T22:58:30.363+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-09-23T22:58:30.373+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-09-23T22:58:30.386+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-09-23T22:58:30.400+08:00 DEBUG 31324 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-09-23T22:58:31.165+08:00  WARN 31324 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: 876c013c-6ec4-486e-9a61-ad1081cd45d9

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-09-23T22:58:31.179+08:00  INFO 31324 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-09-23T22:58:32.695+08:00  INFO 31324 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 5.518 seconds (process running for 6.772)
