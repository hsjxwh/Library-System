2025-10-21T13:12:02.210+08:00  INFO 33004 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Starting LibrarySystemApplicationTests using Java 21.0.7 with PID 33004 (started by lenovo in E:\ideaTry\LibrarySystem)
2025-10-21T13:12:02.216+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Running with Spring Boot v3.5.4, Spring v6.2.9
2025-10-21T13:12:02.218+08:00  INFO 33004 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : The following 1 profile is active: "dev"
2025-10-21T13:12:03.404+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21T13:12:03.407+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-10-21T13:12:03.447+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 0 Neo4j repository interfaces.
2025-10-21T13:12:03.456+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21T13:12:03.457+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-10-21T13:12:03.476+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 0 Neo4j repository interfaces.
2025-10-21T13:12:03.497+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-10-21T13:12:03.498+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-10-21T13:12:03.521+08:00  INFO 33004 --- [LibrarySystem] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-10-21T13:12:03.720+08:00 DEBUG 33004 --- [LibrarySystem] [main] org.apache.ibatis.logging.LogFactory     : Logging initialized using 'class org.apache.ibatis.logging.slf4j.Slf4jImpl' adapter.
2025-10-21T13:12:03.724+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Ignored because not a concrete top-level class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BalanceNotEnoughError.class]
2025-10-21T13:12:03.725+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BookMapper.class]
2025-10-21T13:12:03.725+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BooksMapper.class]
2025-10-21T13:12:03.725+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\BorrowTimeMapper.class]
2025-10-21T13:12:03.726+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ManagerMapper.class]
2025-10-21T13:12:03.726+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\OrdersMapper.class]
2025-10-21T13:12:03.726+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ProcessBookMapper.class]
2025-10-21T13:12:03.726+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\PurchaseBooksMapper.class]
2025-10-21T13:12:03.726+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\ScoreMapper.class]
2025-10-21T13:12:03.726+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Identified candidate component class: file [E:\ideaTry\LibrarySystem\target\classes\org\powernode\springboot\mapper\database\UserMapper.class]
2025-10-21T13:12:03.728+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'bookMapper' and 'org.powernode.springboot.mapper.database.BookMapper' mapperInterface
2025-10-21T13:12:03.731+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'bookMapper'.
2025-10-21T13:12:03.731+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'booksMapper' and 'org.powernode.springboot.mapper.database.BooksMapper' mapperInterface
2025-10-21T13:12:03.731+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'booksMapper'.
2025-10-21T13:12:03.731+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'borrowTimeMapper' and 'org.powernode.springboot.mapper.database.BorrowTimeMapper' mapperInterface
2025-10-21T13:12:03.732+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'borrowTimeMapper'.
2025-10-21T13:12:03.732+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'managerMapper' and 'org.powernode.springboot.mapper.database.ManagerMapper' mapperInterface
2025-10-21T13:12:03.733+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'managerMapper'.
2025-10-21T13:12:03.735+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'ordersMapper' and 'org.powernode.springboot.mapper.database.OrdersMapper' mapperInterface
2025-10-21T13:12:03.736+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'ordersMapper'.
2025-10-21T13:12:03.737+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'processBookMapper' and 'org.powernode.springboot.mapper.database.ProcessBookMapper' mapperInterface
2025-10-21T13:12:03.738+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'processBookMapper'.
2025-10-21T13:12:03.738+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'purchaseBooksMapper' and 'org.powernode.springboot.mapper.database.PurchaseBooksMapper' mapperInterface
2025-10-21T13:12:03.738+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'purchaseBooksMapper'.
2025-10-21T13:12:03.739+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'scoreMapper' and 'org.powernode.springboot.mapper.database.ScoreMapper' mapperInterface
2025-10-21T13:12:03.739+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'scoreMapper'.
2025-10-21T13:12:03.739+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Creating MapperFactoryBean with name 'userMapper' and 'org.powernode.springboot.mapper.database.UserMapper' mapperInterface
2025-10-21T13:12:03.740+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.m.s.mapper.ClassPathMapperScanner      : Enabling autowire by type for MapperFactoryBean with name 'userMapper'.
2025-10-21T13:12:05.730+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BookMapper.xml]'
2025-10-21T13:12:05.747+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BooksMapper.xml]'
2025-10-21T13:12:05.757+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\BorrowTimeMapper.xml]'
2025-10-21T13:12:05.766+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ManagerMapper.xml]'
2025-10-21T13:12:05.779+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\OrdersMapper.xml]'
2025-10-21T13:12:05.789+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ProcessBookMapper.xml]'
2025-10-21T13:12:05.796+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\PurchaseBooksMapper.xml]'
2025-10-21T13:12:05.806+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\ScoreMapper.xml]'
2025-10-21T13:12:05.821+08:00 DEBUG 33004 --- [LibrarySystem] [main] o.mybatis.spring.SqlSessionFactoryBean   : Parsed mapper file: 'file [E:\ideaTry\LibrarySystem\target\classes\mapper\UserMapper.xml]'
2025-10-21T13:12:06.809+08:00  WARN 33004 --- [LibrarySystem] [main] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: f0ad2208-f418-42a8-a89e-9042cb180b6d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-10-21T13:12:06.830+08:00  INFO 33004 --- [LibrarySystem] [main] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-10-21T13:12:06.981+08:00  WARN 33004 --- [LibrarySystem] [main] thorizationManagerRequestMatcherRegistry : One of the patterns in [/manager/checkIsManager, /manager/submitToAddBook, /manager/submitMaterialsToAddBooks, /manager/downloadTemplateFile, /manager/verifyQR, /manager/getAllRecommendWaitToProcess, /manager/deleteRecommendToStore, /manager/addPurchaseBook, /manager/getAllPurchaseBooks, /manager/deletePurchaseBook, /manager/deleteBook, /manager/getAllBookRecord, /manager/addBookRecord, /manager/renewBook, /manager/returnBook, /manager/connect, /manager/generateQrToken, /manager/getAllOrders, /manager/getSomeoneOrders, /manager/getSpecialOrder, /manager/updateUserBalance, /manager/getAllOnlineAccounts, /manager/forceSomeoneQuit, manager/getBlackList, /manager/pullOutTheBlacklist, /manager/quit] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-10-21T13:12:07.704+08:00  INFO 33004 --- [LibrarySystem] [main] o.neo4j.driver.internal.DriverFactory    : Direct driver instance 1859633528 created for server address localhost:7687
2025-10-21T13:12:08.260+08:00  INFO 33004 --- [LibrarySystem] [main] o.p.s.LibrarySystemApplicationTests      : Started LibrarySystemApplicationTests in 6.449 seconds (process running for 7.954)
2025-10-21T13:12:08.269+08:00 DEBUG 33004 --- [LibrarySystem] [scheduled-task-2] o.p.s.s.d.s.r.i.LoginTokenServiceImpl    : 执行开始: LoginTokenServiceImpl.clearIpRequest()
2025-10-21T13:12:08.269+08:00 DEBUG 33004 --- [LibrarySystem] [scheduled-task-1] o.p.s.s.d.s.r.i.LoginTokenServiceImpl    : 执行开始: LoginTokenServiceImpl.clearOnlineCount()
2025-10-21T13:12:09.225+08:00 DEBUG 33004 --- [LibrarySystem] [scheduled-task-1] o.p.s.s.d.s.r.i.LoginTokenServiceImpl    : 执行成功: LoginTokenServiceImpl.clearOnlineCount() - 耗时: 952ms
2025-10-21T13:12:09.226+08:00 DEBUG 33004 --- [LibrarySystem] [scheduled-task-2] o.p.s.s.d.s.r.i.LoginTokenServiceImpl    : 执行成功: LoginTokenServiceImpl.clearIpRequest() - 耗时: 953ms
2025-10-21T13:12:09.529+08:00  INFO 33004 --- [LibrarySystem] [SpringApplicationShutdownHook] o.neo4j.driver.internal.InternalDriver   : Closing driver instance 1859633528
